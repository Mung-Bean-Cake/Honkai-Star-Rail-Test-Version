
namespace = DOT_SR
country_event = {
	id = DOT_SR.10000
	title = "DOT_SR.1.name"
	desc = DOT_SR.1.desc
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = honkai_star_rail_leader_ui
	#picture_event_data = { room = astral_express_1_room }
	immediate = {
		set_variable = {
			which = hsr_star_leader_change
			value = 1
		}
	}
	option = {
		name = OK
		default_hide_option = yes
	}
}
#reload honkai_star_rail_main.gui
country_event = {
	id = DOT_SR.1
	title = "DOT_SR.1.name"
	desc = DOT_SR.1.desc
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = honkai_star_rail_main_ui
	custom_gui_option = honkai_star_rail_main_ui_option
	picture_event_data = { room = astral_express_1_room }
	immediate = {
		set_global_flag = allow_change_pc_shield_stage3
	}
	option = {
		name = hsr_star_ui_select_1
		is_dialog_only = yes
		response_text = DOT_SR.1.desc
	}
	option = {
		name = hsr_star_ui_select_2
		trigger = {
			hidden_trigger = {
				has_origin = origin_Astral_Express
			}
		}
		is_dialog_only = yes
		response_text = hsr_star_ui_select_2_lieche
	}
	option = {
		name = hsr_star_ui_select_2
		trigger = {
			hidden_trigger = {
				has_origin = origin_Herta_Space_Station
			}
		}
		is_dialog_only = yes
		response_text = hsr_star_ui_select_2_heita
	}
	option = {
		name = hsr_star_ui_select_2
		trigger = {
			hidden_trigger = {
				has_origin = origin_luosi_star
			}
		}
		is_dialog_only = yes
		response_text = hsr_star_ui_select_2_luosi
	}
	option = {
		name = hsr_star_ui_select_2
		trigger = {
			hidden_trigger = {
				has_origin = origin_Xianzhou
			}
		}
		is_dialog_only = yes
		response_text = hsr_star_ui_select_2_xianzhou
	}
	option = {
		name = hsr_star_ui_select_2
		trigger = {
			hidden_trigger = {
				has_origin = origin_Penacony
			}
		}
		is_dialog_only = yes
		response_text = hsr_star_ui_select_2_piluokangni
	}
	option = {
		name = hsr_star_ui_select_2
		trigger = {
			hidden_trigger = {
				not = {
					is_honkai_star_mod = yes
				}
			}
		}
		is_dialog_only = yes
		response_text = hsr_star_ui_select_2_null
	}
	option = {
		name = hsr_star_ui_select_3
		is_dialog_only = yes
		response_text = hsr_star_ui_select_3_tt
	}
	option = {
		name = hsr_star_ui_select_4
		is_dialog_only = yes
		response_text = concept_path_effect_desc
	}
	option = {
		name = tuichu
		default_hide_option = yes
	}
}
country_event = {
	id = DOT_SR.2
	title = "DOT_SR.1.name"
	desc = DOT_SR.1.desc
	is_triggered_only = yes
	diplomatic = yes
	custom_gui = honkai_star_rail_leader_ui
	#picture_event_data = { room = astral_express_1_room }
	immediate = {
		set_variable = {
			which = hsr_star_leader_change
			value = 1
		}
	}
	option = {
		name = OK
		default_hide_option = yes
	}
}
#################101
############200
country_event = {
    id = DOT_SR.00200
    hide_window = yes
    is_triggered_only = yes

    trigger = {
            has_origin = origin_Xianzhou
    }

    immediate = {
        capital_scope = {
			change_planet_size = 30
            while = {
                count = 3
                remove_district = district_city
            }
            while = {
                count = 2
                remove_district = district_generator
                remove_district = district_mining
                remove_district = district_farming
            }
			add_district = district_honkai_city
			add_district = district_honkai_industrial
			add_district = district_honkai_industrial
			add_district = district_honkai_mining
			add_district = district_honkai_mining
			add_district = district_honkai_mining
			add_district = district_honkai_mining
			add_district = district_honkai_mining
			add_district = district_honkai_generator
			add_district = district_honkai_generator
			add_district = district_honkai_generator
			add_district = district_honkai_generator
			add_district = district_honkai_farming
			add_district = district_honkai_farming
			add_building = xz_building_xz_roboticist
			add_building = xz_building_amenities_and_unity
			add_building = building_research_lab_1
			add_building = building_research_lab_1
        }
		give_technology = { tech = tech_robotic_workers message = no }
		give_technology = { tech = tech_powered_exoskeletons message = no }
		give_technology = { tech = tech_robomodding message = no }
		give_technology = { tech = tech_habitat_1 message = no }
		give_technology = { tech = tech_droid_workers message = no }
		give_technology = { tech = tech_integrated_cybernetics message = no }
		give_technology = { tech = tech_robomodding_points_1 message = no }
		give_technology = { tech = tech_robot_assembly_complex message = no }
		give_technology = { tech = tech_robomodding_points_2 message = no }
		give_technology = { tech = tech_positronic_implants message = no }
		give_technology = { tech = tech_frontier_health message = no }
		give_technology = { tech = tech_genome_mapping message = no }
		give_technology = { tech = tech_vitality_boosters message = no }
		give_technology = { tech = tech_epigenetic_triggers message = no }
		give_technology = { tech = tech_cloning message = no }
		give_technology = { tech = tech_gene_banks message = no }
		give_technology = { tech = tech_gene_seed_purification message = no }
		give_technology = { tech = tech_morphogenetic_field_mastery message = no }
		give_technology = { tech = tech_gene_tailoring message = no }
		give_technology = { tech = tech_glandular_acclimation message = no }
		give_technology = { tech = tech_gene_expressions message = no }
    }
}
event = {
	id = DOT_SR.10
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			limit = {
				has_origin = origin_Xianzhou
			}
			save_event_target_as = xianzhou_country
		}
		if = {
			limit = {
				has_origin = origin_belobog
			}
			save_event_target_as = yaliluo_country
		}
		if = {
			limit = {
				any_country = {
					is_ai = no
					has_origin = origin_belobog
				}
				any_country = {
					NOT = { has_origin = origin_Xianzhou }
				}
			}
			random_system = {
				limit = {
					#has_owner = no
					#has_special_star_flag_trigger = no
				}
				spawn_system = { initializer = "DOT_SR_system_03" }
			}
			last_created_system = {
				random_system_planet = {
					limit = { has_planet_flag = xianzhou }
					create_xianzhou_npc_effect =yes
					set_name = The_Xianzhou_Luofu
				}
				create_starbase = {
					size = starbase_starport
					module = shipyard
					building = crew_quarters
					owner = event_target:xianzhou_country
					effect = {
						set_starbase_module = {
							slot = 1
							module = trading_hub
						}
						set_starbase_module = {
							slot = 2
							module = shipyard
						}
					}
				}
			}
		}
	}
}