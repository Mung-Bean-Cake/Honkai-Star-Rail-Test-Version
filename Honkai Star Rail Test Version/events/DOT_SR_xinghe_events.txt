namespace = SW_change
country_event = {
    id = SW_change.1000
    title = SW_change.1000_title
    desc = SW_change.1000_desc
    picture = GFX_evt_DOT_SR_001
    is_triggered_only = yes
    trigger = {
        is_ai = no
    }
    option = {
        name = SW_change.1000_title_a
        hidden_effect = {
            set_global_flag = allow_change_pc_shield_stage1
        }
    }
    option = {
        name = SW_change.1000_title_b
        hidden_effect = {
            set_global_flag = allow_change_pc_shield_stage2
        }
    }
    option = {
        name = SW_change.1000_title_c
        hidden_effect = {
            set_global_flag = allow_change_pc_shield_stage3
        }
    }
    option = {
        name = SW_change.1000_title_d
        hidden_effect = {
            set_global_flag = allow_change_pc_shield_stage4
        }
    }
}
country_event = {
    id = SW_change.1001
    hide_window = yes
    picture = GFX_evt_DOT_SR_001
    is_triggered_only = yes
    trigger = {
        From = {
            NOT = {
                has_star_flag = not_allow_change_pc_shield
            }
        }
    }
    immediate = {
        From = {
            set_star_flag = not_allow_change_pc_shield
            random_list = {
                180 = {
                    modifier = {
                        factor = 0.08
                        has_global_flag = allow_change_pc_shield_stage4
                    }
                    modifier = {
                        factor = 0.26
                        has_global_flag = allow_change_pc_shield_stage3
                    }
                    modifier = {
                        factor = 0.5
                        has_global_flag = allow_change_pc_shield_stage2
                    }
                    modifier = {
                        factor = 0.7
                        has_global_flag = allow_change_pc_shield_stage1
                    }
                }
                1 = { change_planet_to_pc_shield_special = { planet_class = pc_shielded_yellow planet_flag = pc_shielded_yellow_1 } }
                1 = { change_planet_to_pc_shield_special = { planet_class = pc_shielded_yellow planet_flag = pc_shielded_yellow_2 } }
                1 = { change_planet_to_pc_shield_special = { planet_class = pc_shielded_yellow planet_flag = pc_shielded_yellow_3 } }
                1 = { change_planet_to_pc_shield_special = { planet_class = pc_shielded_yellow planet_flag = pc_shielded_yellow_4 } }
                1 = { change_planet_to_pc_shield_special = { planet_class = pc_shielded_yellow planet_flag = pc_shielded_yellow_5 } }
                1 = { change_planet_to_pc_shield_special = { planet_class = pc_shielded_yellow planet_flag = pc_shielded_yellow_6 } }
                1 = { change_planet_to_pc_shield_special = { planet_class = pc_shielded_white planet_flag = pc_shielded_white_1 } }
                1 = { change_planet_to_pc_shield_special = { planet_class = pc_shielded_white planet_flag = pc_shielded_white_2 } }
                1 = { change_planet_to_pc_shield_special = { planet_class = pc_shielded_white planet_flag = pc_shielded_white_3 } }
                1 = { change_planet_to_pc_shield_special = { planet_class = pc_shielded_white planet_flag = pc_shielded_white_4 } }
                1 = { change_planet_to_pc_shield_special = { planet_class = pc_shielded_white planet_flag = pc_shielded_white_5 } }
                1 = { change_planet_to_pc_shield_special = { planet_class = pc_shielded_white planet_flag = pc_shielded_white_6 } }
                1 = { change_planet_to_pc_shield_special = { planet_class = pc_shielded_red planet_flag = pc_shielded_red_1 } }
                1 = { change_planet_to_pc_shield_special = { planet_class = pc_shielded_red planet_flag = pc_shielded_red_2 } }
                1 = { change_planet_to_pc_shield_special = { planet_class = pc_shielded_red planet_flag = pc_shielded_red_3 } }
                1 = { change_planet_to_pc_shield_special = { planet_class = pc_shielded_red planet_flag = pc_shielded_red_4 } }
                1 = { change_planet_to_pc_shield_special = { planet_class = pc_shielded_red planet_flag = pc_shielded_red_5 } }
                1 = { change_planet_to_pc_shield_special = { planet_class = pc_shielded_red planet_flag = pc_shielded_red_6 } }
            }
        }
    }
}
######################
# 金色球——打开获得一颗球 #
######################
planet_event = {
    id = SW_change.1
    location = Root
    is_triggered_only = yes
    title = SW_change.1_title
    desc = {
        trigger = {
            has_planet_flag = pc_shielded_yellow_1
        }
        text = SW_change.1_desc_a
    }
    desc = {
        trigger = {
            has_planet_flag = pc_shielded_yellow_2
        }
        text = SW_change.1_desc_b
    }
    desc = {
        trigger = {
            has_planet_flag = pc_shielded_yellow_3
        }
        text = SW_change.1_desc_c
    }
    desc = {
        trigger = {
            has_planet_flag = pc_shielded_yellow_4
        }
        text = SW_change.1_desc_d
    }
    desc = {
        trigger = {
            has_planet_flag = pc_shielded_yellow_5
        }
        text = SW_change.1_desc_e
    }
    desc = {
        trigger = {
            has_planet_flag = pc_shielded_yellow_6
        }
        text = SW_change.1_desc_f
    }
    trigger = {
        is_planet_class = pc_shielded_yellow
        OR = {
            has_planet_flag = pc_shielded_yellow_1
            has_planet_flag = pc_shielded_yellow_2
            has_planet_flag = pc_shielded_yellow_3
            has_planet_flag = pc_shielded_yellow_4
            has_planet_flag = pc_shielded_yellow_5
            has_planet_flag = pc_shielded_yellow_6
        }
    }
    option = {
        name = SW_change.1_title_a
        trigger = {
            hidden_trigger = {
                OR = {
                    has_planet_flag = pc_shielded_yellow_1
                    has_planet_flag = pc_shielded_yellow_2
                    has_planet_flag = pc_shielded_yellow_3
                    has_planet_flag = pc_shielded_yellow_4
                    has_planet_flag = pc_shielded_yellow_5
                }
            }
        }
    }
    option = {
        name = SW_change.1_title_b
        trigger = {
            hidden_trigger = {
                OR = {
                    has_planet_flag = pc_shielded_yellow_6
                }
            }
        }
    }
    option = {
        name = SW_change.1_title_c
        trigger = {
            hidden_trigger = {
                NOR = {
                    has_planet_flag = pc_shielded_yellow_1
                    has_planet_flag = pc_shielded_yellow_2
                    has_planet_flag = pc_shielded_yellow_3
                    has_planet_flag = pc_shielded_yellow_4
                    has_planet_flag = pc_shielded_yellow_5
                    has_planet_flag = pc_shielded_yellow_6
                }
            }
        }
    }
    immediate = {
        save_global_event_target_as = SW_pc_sheild_planet_target
        This.solar_system.starbase.owner = {
            country_event = { id = SW_change.31 }
        }
        if = {
            limit = {
                has_planet_flag = pc_shielded_yellow_1
            }
            if = { limit = { solar_system.starbase.owner_main_species = { has_trait = trait_pc_ai_preference } } change_pc = pc_ai }
            else_if = { limit = { solar_system.starbase.owner_main_species = { has_trait = trait_pc_nuked_preference } } change_pc = pc_nuked }
            else_if = { limit = { solar_system.starbase.owner_main_species = { has_trait = trait_pc_tropical_preference } } change_pc = pc_tropical }
            else_if = { limit = { solar_system.starbase.owner_main_species = { has_trait = trait_pc_desert_preference } } change_pc = pc_desert }
            else_if = { limit = { solar_system.starbase.owner_main_species = { has_trait = trait_pc_arid_preference } } change_pc = pc_arid }
            else_if = { limit = { solar_system.starbase.owner_main_species = { has_trait = trait_pc_tundra_preference } } change_pc = pc_tundra }
            else_if = { limit = { solar_system.starbase.owner_main_species = { has_trait = trait_pc_ocean_preference } } change_pc = pc_ocean }
            else_if = { limit = { solar_system.starbase.owner_main_species = { has_trait = trait_pc_arctic_preference } } change_pc = pc_arctic }
            else_if = { limit = { solar_system.starbase.owner_main_species = { has_trait = trait_pc_savannah_preference } } change_pc = pc_savannah }
            else_if = { limit = { solar_system.starbase.owner_main_species = { has_trait = trait_pc_alpine_preference } } change_pc = pc_alpine }
            else_if = { limit = { solar_system.starbase.owner_main_species = { has_trait = trait_pc_continental_preference } } change_pc = pc_continental }
            else = { change_pc = rl_all_planets }
        }
        else_if = {
            limit = {
                has_planet_flag = pc_shielded_yellow_2
            }
            change_pc = pc_gaia
        }
        else_if = {
            limit = {
                has_planet_flag = pc_shielded_yellow_3
            }
            change_pc = pc_relic
        }
        else_if = {
            limit = {
                has_planet_flag = pc_shielded_yellow_4
            }
            change_pc = pc_city
        }
        else_if = {
            limit = {
                has_planet_flag = pc_shielded_yellow_5
            }
            change_pc = pc_machine
        }
        else_if = {
            limit = {
                has_planet_flag = pc_shielded_yellow_6
            }
            change_pc = rl_unhabitable_planets
        }
        else = {
            change_pc = rl_all_planets
        }
        while = {
            count = 10
            add_district = district_city
        }
        while = {
            count = 8
            add_district = district_generator
        }
        while = {
            count = 5
            add_district = district_farming
        }
        while = {
            count = 10
            add_district = district_mining
        }
        while = {
            count = 2
            add_deposit = d_ancient_mining_site
        }
        while = {
            count = 6
            add_deposit = d_hyperfertile_valley
        }
        while = {
            count = 3
            add_deposit = d_irradiated_valley
        }
    }
}
######################
#   白色球——打开获得   #
######################
#人口
planet_event = {
    id = SW_change.11
    title = SW_change.1_title
    desc = SW_change.11_desc
    picture = GFX_evt_spy_network
    is_triggered_only = yes
    location = Root
    trigger = {
        is_planet_class = pc_shielded_white
        has_planet_flag = pc_shielded_white_1
    }

   immediate = {
       save_global_event_target_as = SW_pc_sheild_planet_target
       This.solar_system.starbase.owner = {
           country_event = { id = SW_change.32 }
       }
   }
}
#舰队
planet_event = {
    id = SW_change.12
    title = SW_change.1_title
    desc = SW_change.12_dsec
    picture = GFX_evt_DOT_SR_001
    is_triggered_only = yes
    location = Root
    trigger = {
        is_planet_class = pc_shielded_white
        has_planet_flag = pc_shielded_white_2
    }
    option = {
        name = SW_change.12_title_a
    }
    immediate = {
        save_global_event_target_as = SW_pc_sheild_planet_target
        This.solar_system.starbase.owner = {
            country_event = { id = SW_change.33 }
        }
        solar_system.starbase.owner.capital_scope = {
            create_fleet = {
                effect = {
                    create_ship = {
                        name = "NAME_Progress"
                        design = "NAME_Surplus_Beta"
                        graphical_culture = fallen_machine_empire_01
                        upgradable = no
                    }
                    create_ship = {
                        name = "NAME_Progress"
                        design = "NAME_Surplus_Beta"
                        graphical_culture = fallen_machine_empire_01
                        upgradable = no
                    }
                    set_owner = Prev.owner
                    set_location = PrevPrev
                }
            }
        }
        change_pc = rl_unhabitable_planets
    }
}
#遗珍
planet_event = {
    id = SW_change.13
    title = SW_change.1_title
    desc = SW_change.13_desc
    picture = GFX_evt_DOT_SR_001
    is_triggered_only = yes
    location = Root
    trigger = {
        is_planet_class = pc_shielded_white
        has_planet_flag = pc_shielded_white_3
    }
    option = {
        name = OK
    }
    immediate = {
        save_global_event_target_as = SW_pc_sheild_planet_target
        This.solar_system.starbase.owner = {
            country_event = { id = SW_change.34 }
        }
        solar_system.starbase.owner = {
            random_list = {
                1 = { modifier = { factor = 0 has_relic = r_dragon_trophy } add_relic = r_dragon_trophy }
                1 = { modifier = { factor = 0 has_relic = r_khans_throne } add_relic = r_khans_throne }
                1 = { modifier = { factor = 0 has_relic = r_worm_scales } add_relic = r_worm_scales }
                1 = { modifier = { factor = 0 has_relic = r_rubricator } add_relic = r_rubricator }
                1 = { modifier = { factor = 0 has_relic = r_galaxy } add_relic = r_galaxy }
                1 = { modifier = { factor = 0 has_relic = r_omnicodex } add_relic = r_omnicodex }
                1 = { modifier = { factor = 0 has_relic = r_surveyor } add_relic = r_surveyor }
                1 = { modifier = { factor = 0 has_relic = r_galatron } add_relic = r_galatron }
                1 = { modifier = { factor = 0 has_relic = r_ancient_sword } add_relic = r_ancient_sword }
                1 = { modifier = { factor = 0 has_relic = r_severed_head } add_relic = r_severed_head }
                1 = { modifier = { factor = 0 has_relic = r_prethoryn_queen } add_relic = r_prethoryn_queen }
                1 = { modifier = { factor = 0 has_relic = r_unbidden_warlock } add_relic = r_unbidden_warlock }
                1 = { modifier = { factor = 0 has_relic = r_contingency_core } add_relic = r_contingency_core }
                1 = { modifier = { factor = 0 has_relic = r_zro_crystal } add_relic = r_zro_crystal }
                1 = { modifier = { factor = 0 has_relic = r_the_last_baol } add_relic = r_the_last_baol }
                1 = { modifier = { factor = 0 has_relic = r_the_defragmentor } add_relic = r_the_defragmentor }
                1 = { modifier = { factor = 0 has_relic = r_reality_perforator } add_relic = r_reality_perforator }
                1 = { modifier = { factor = 0 has_relic = r_pox_sample } add_relic = r_pox_sample }
                1 = { modifier = { factor = 0 has_relic = r_cryo_core } add_relic = r_cryo_core }
                1 = { modifier = { factor = 0 has_relic = r_war_forge } add_relic = r_war_forge }
                1 = { modifier = { factor = 0 has_relic = r_vacuum_flower } add_relic = r_vacuum_flower }
                1 = { modifier = { factor = 0 has_relic = r_toxic_god } add_relic = r_toxic_god }
                1 = { modifier = { factor = 0 has_relic = r_odryskan_crystal } add_relic = r_odryskan_crystal }
                1 = { modifier = { factor = 0 has_relic = r_wormhole_key_fragment_1 } add_relic = r_wormhole_key_fragment_1 }
                1 = { modifier = { factor = 0 has_relic = r_wormhole_key_fragment_2 } add_relic = r_wormhole_key_fragment_2 }
                1 = { modifier = { factor = 0 has_relic = r_wormhole_key_fragment_3 } add_relic = r_wormhole_key_fragment_3 }
                1 = { modifier = { factor = 0 has_relic = r_wormhole_key_fragment_4 } add_relic = r_wormhole_key_fragment_4 }
                1 = { modifier = { factor = 0 has_relic = r_wormhole_key } add_relic = r_wormhole_key }
                1 = { modifier = { factor = 0 has_relic = r_ever_spinning_top } add_relic = r_ever_spinning_top }
                1 = { modifier = { factor = 0 has_relic = r_celestial_tear } add_relic = r_celestial_tear }
                1 = { modifier = { factor = 0 has_relic = r_plasmic_core } add_relic = r_plasmic_core }
                1 = { modifier = { factor = 0 has_relic = r_infinity_root } add_relic = r_infinity_root }
                1 = { modifier = { factor = 0 has_relic = r_time_crystal } add_relic = r_time_crystal }
                1 = { modifier = { factor = 0 has_relic = r_daedalus_seal } add_relic = r_daedalus_seal }
                1 = { modifier = { factor = 0 has_relic = r_continuum } add_relic = r_continuum }
                1 = { modifier = { factor = 0 has_relic = r_eternal_throne } add_relic = r_eternal_throne }
            }
        }
        change_pc = rl_unhabitable_planets
    }
}
#虫洞
planet_event = {
    id = SW_change.14
    title = SW_change.1_title
    desc = SW_change.14_desc
    picture = GFX_evt_DOT_SR_001
    is_triggered_only = yes
    location = Root
    trigger = {
        is_planet_class = pc_shielded_white
        has_planet_flag = pc_shielded_white_4
    }
    option = {
        name = SW_change.14_title_a
    }
    immediate = {
        save_global_event_target_as = SW_pc_sheild_planet_target
        This.solar_system.starbase.owner = {
            add_tech_progress = { tech = tech_wormhole_stabilization progress = 0.5 }
            country_event = { id = SW_change.35 }
        }
        solar_system = {
            spawn_natural_wormhole = {
                bypass_type = wormhole
                orbit_distance = 150
            }
            random_system = {
                spawn_natural_wormhole = {
                    bypass_type = wormhole
                    orbit_distance = 150
                }
                link_wormholes = Prev
            }
        }
        solar_system = { save_event_target_as = wormhole_system }
        This.solar_system.starbase.owner = {
            set_country_flag = encountered_first_wormhole
            add_seen_bypass_type = wormhole
        }
        remove_planet = yes
    }
}
#科技
planet_event = {
    id = SW_change.15
    title = SW_change.1_title
    desc = SW_change.15_desc
    picture = GFX_evt_DOT_SR_001
    is_triggered_only = yes
    location = Root
    trigger = {
        is_planet_class = pc_shielded_white
        has_planet_flag = pc_shielded_white_5
    }
    option = {
        name = OK
    }
    immediate = {
        save_global_event_target_as = SW_pc_sheild_planet_target
        This.solar_system.starbase.owner = {
            country_event = { id = SW_change.36 }
        }
        solar_system.starbase.owner = {
            random_list = {
                1 = { modifier = { factor = 1 NOT = { has_technology = tech_ship_armor_4 } } add_tech_progress = { progress = 0.5 tech = tech_ship_armor_4 } }
                1 = { modifier = { factor = 1 NOT = { has_technology = tech_cloaking_dark_matter } } add_tech_progress = { progress = 0.5 tech = tech_cloaking_dark_matter } }
                1 = { modifier = { factor = 1 NOT = { has_technology = tech_battleships } } add_tech_progress = { progress = 0.5 tech = tech_battleships } }
                1 = { modifier = { factor = 1 NOT = { has_technology = tech_mine_betharian } } add_tech_progress = { progress = 0.5 tech = tech_mine_betharian } }
                1 = { modifier = { factor = 1 NOT = { has_technology = tech_sapient_ai } } add_tech_progress = { progress = 0.5 tech = tech_sapient_ai } }
            }
        }
        change_pc = rl_unhabitable_planets
    }
}
#附属国
planet_event = {
    id = SW_change.16
    title = SW_change.1_title
    desc = SW_change.1_desc
    picture = GFX_evt_DOT_SR_001
    is_triggered_only = yes
    location = Root
    trigger = {
        is_planet_class = pc_shielded_white
        has_planet_flag = pc_shielded_white_6
    }
    option = {
        name = OK
    }
    immediate = {
        save_global_event_target_as = SW_pc_sheild_planet_target
        This.solar_system.starbase.owner = {
            country_event = { id = SW_change.37 }
        }
        solar_system.starbase.owner = {
            save_global_event_target_as = player_country_SW
        }
        change_pc = pc_gaia
        create_species = {
            class = random_non_machine
            pop_ethics = random
        }
        create_country = {
            name = random
            name_list = random
            species = last_created_species
            type = default
            effect = {
                save_global_event_target_as = SW_good_country_to_player
                add_resource = {
                    energy = 10000
                    alloys = 10000
                    minerals = 10000
                    consumer_goods = 10000
                }
            }
        }
        while = {
            count = 15
            create_pop = {
                species = event_target:SW_good_country_to_player.owner_main_species
            }
        }
        while = {
            count = 10
            add_district = district_city
        }
        while = {
            count = 10
            add_district = district_city
        }
        while = {
            count = 5
            add_district = district_generator
        }
        while = {
            count = 5
            add_district = district_farming
        }
        while = {
            count = 5
            add_district = district_mining
        }
        while = {
            count = 2
            add_deposit = d_ancient_mining_site
        }
        while = {
            count = 1
            add_deposit = d_hyperfertile_valley
        }
        while = {
            count = 5
            add_deposit = d_irradiated_valley
        }
        add_building = building_capital
        add_building = building_artist_patron
        add_building = building_ministry_production
        solar_system = {
            if = {
                limit = { exists = starbase }
                starbase = {
                    fleet = {
                        destroy_fleet = this
                    }
                }
            }
            create_starbase = {
                size = starbase_marauder
                owner = event_target:SW_good_country_to_player
            }
        }
        event_target:player_country_SW = {
            establish_communications_no_message = event_target:SW_good_country_to_player
            add_opinion_modifier = {
                who = event_target:SW_good_country_to_player
                modifier = opinion_scion
            }
        }
        event_target:SW_good_country_to_player = {
            set_subject_of = {
                who = event_target:player_country_SW
                preset = preset_vassal
            }
            add_opinion_modifier = {
                who = event_target:player_country_SW
                modifier = opinion_scion
            }
        }
    }
}
######################
#   红色球——打开获得   #
######################
#小可汗国
planet_event = {
    id = SW_change.21
    hide_window = yes
    is_triggered_only = yes

    trigger = {
        is_planet_class = pc_shielded_red
        has_planet_flag = pc_shielded_red_1
    }
    immediate = {
        solar_system.starbase.owner = { country_event = { id = SW_change.30 } }
        solar_system = {
            create_cluster = {
                id = marauder_1_cluster
                radius = 120
                center = this.solar_system
            }
            create_species = {
                name = random
                class = random
                blocked_archetypes = {
                    MACHINE
                    ROBOT
                    LITHOID
                }
                portrait = random
                traits = {
                    trait = "trait_pc_habitat_preference"
                    trait = "trait_extremely_adaptive"
                    trait = "trait_rapid_breeders"
                    trait = "trait_nomadic"
                    trait = "trait_quarrelsome"
                    trait = "trait_deviants"
                }
            }
            create_country = {
                name = RT_KHAN_small
                name_list = random
                species = last_created_species
                type = awakened_marauders_special
                civics = { civic = civic_anarcho_tribalism }
                origin = "origin_default"
                flag = {
                    background = {
                        category = "backgrounds"
                        file = "00_solid.dds"
                    }
                    colors = {
                        "black"
                        "black"
                        "null"
                        "null"
                    }
                }
                ethos = {
                    ethic = ethic_fanatic_militarist
                    ethic = ethic_xenophobe
                }
                ignore_initial_colony_error = yes
                effect = {
                    change_government = {
                        civics = { civic = civic_great_khans_vision_special }
                    }
                    change_country_flag = {
                        icon = {
                            category = "pirate"
                            file = "flag_pirate_11.dds"
                        }
                        background = {
                            category = "backgrounds"
                            file = "00_solid.dds"
                        }
                        colors = {
                            "red"
                            "red"
                            "null"
                            "null"
                        }
                    }
                }
            }
            last_created_country = {
                create_ship_design = { design = "NAME_Pirate_Transport" }
                add_ship_design = last_created_design
                create_ship_design = { design = "NAME_Clan_Builder" }
                add_ship_design = last_created_design
                set_graphical_culture = pirate_01
                save_global_event_target_as = SW_bad_country_of_awakened_marauders
                set_country_flag = SW_bad_country_of_awakened_marauders
                set_name = random
                create_ship_design = { design = "NAME_Marauder_Starbase" }
                add_ship_design = last_created_design
                set_custom_capital_location = prev
                create_leader = {
                    class = commander
                    species = owner_main_species
                    name = random
                    skill = 3
                }
                create_fleet = {
                    effect = {
                        set_owner = event_target:SW_bad_country_of_awakened_marauders
                        while = {
                            count = 20
                            create_army_transport = {
                                ship_name = "NAME_Pirate_Transport"
                                graphical_culture = "mammalian_01"
                                army_type = "assault_army"
                                species = event_target:SW_bad_country_of_awakened_marauders.owner_main_species
                            }
                        }
                        set_location = {
                            target = Root
                            distance = 20
                            angle = random
                        }
                    }
                }
                last_created_army = { assign_leader = last_created_leader }
                if = {
                    limit = {
                        event_target:SW_bad_country_of_awakened_marauders = {
                            count_controlled_ship = {
                                limit = { is_ship_size = constructor }
                                count < 5
                            }
                        }
                    }
                    create_fleet = {
                        effect = {
                            set_owner = event_target:SW_bad_country_of_awakened_marauders
                            create_ship = {
                                name = random
                                design = "NAME_Clan_Builder"
                            }
                            set_location = {
                                target = Root
                                distance = 20
                                angle = random
                            }
                        }
                    }
                }
            }
            create_fleet = {
                name = "NAME_Chosen_of_the_Great_Khan"
                effect = {
                    set_owner = event_target:SW_bad_country_of_awakened_marauders
                    while = {
                        count = 18
                        create_ship = {
                            name = random
                            design = "NAME_Outrider"
                            prefix = no
                            graphical_culture = "pirate_01"
                        }
                    }
                    while = {
                        count = 12
                        create_ship = {
                            name = random
                            design = "NAME_Lancer"
                            prefix = no
                            graphical_culture = "pirate_01"
                        }
                    }
                    while = {
                        count = 6
                        create_ship = {
                            name = random
                            design = "NAME_Void_Champion"
                            prefix = no
                            graphical_culture = "pirate_01"
                        }
                    }
                    while = {
                        count = 1
                        create_ship = {
                            name = random
                            design = "NAME_Ancestral_Glory"
                            prefix = no
                            graphical_culture = "pirate_01"
                        }
                    }
                    assign_leader = last_created_leader
                    set_fleet_flag = khan_fleet
                    set_location = {
                        target = Root
                        distance = 45
                        angle = random
                    }
                }
                settings = {
                    can_upgrade = no
                    can_disband = no
                    can_change_composition = no
                    can_change_leader = no
                    uses_naval_capacity = no
                }
            }
            create_fleet = {
                effect = {
                    set_owner = event_target:SW_bad_country_of_awakened_marauders
                    create_ship = {
                        name = random
                        design = "NAME_Warrior_Freehold"
                        graphical_culture = "pirate_01"
                    }
                    set_location = {
                        target = prev
                        distance = 230
                        angle = 40
                    }
                }
            }
            create_fleet = {
                effect = {
                    set_owner = event_target:SW_bad_country_of_awakened_marauders
                    create_ship = {
                        name = random
                        design = "NAME_Warrior_Freehold"
                        graphical_culture = "pirate_01"
                    }
                    set_location = {
                        target = prev
                        distance = 230
                        angle = 90
                    }
                }
            }
            create_fleet = {
                effect = {
                    set_owner = event_target:SW_bad_country_of_awakened_marauders
                    create_ship = {
                        name = random
                        design = "NAME_Warrior_Freehold"
                        graphical_culture = "pirate_01"
                    }
                    set_location = {
                        target = prev
                        distance = 230
                        angle = 140
                    }
                }
            }
            create_fleet = {
                effect = {
                    set_owner = event_target:SW_bad_country_of_awakened_marauders
                    create_ship = {
                        name = random
                        design = "NAME_Warrior_Freehold"
                        graphical_culture = "pirate_01"
                    }
                    set_location = {
                        target = prev
                        distance = 230
                        angle = 200
                    }
                }
            }
            create_fleet = {
                effect = {
                    set_owner = event_target:SW_bad_country_of_awakened_marauders
                    create_ship = {
                        name = random
                        design = "NAME_Warrior_Freehold"
                        graphical_culture = "pirate_01"
                    }
                    set_location = {
                        target = prev
                        distance = 230
                        angle = 250
                    }
                }
            }
            create_fleet = {
                effect = {
                    set_owner = event_target:SW_bad_country_of_awakened_marauders
                    create_ship = {
                        name = random
                        design = "NAME_Warrior_Freehold"
                        graphical_culture = "pirate_01"
                    }
                    set_location = {
                        target = prev
                        distance = 230
                        angle = 280
                    }
                }
            }
            create_fleet = {
                effect = {
                    set_owner = event_target:SW_bad_country_of_awakened_marauders
                    create_ship = {
                        name = random
                        design = "NAME_Warrior_Freehold"
                        graphical_culture = "pirate_01"
                    }
                    set_location = {
                        target = prev
                        distance = 230
                        angle = 330
                    }
                }
            }
            create_fleet = {
                effect = {
                    set_owner = event_target:SW_bad_country_of_awakened_marauders
                    create_ship = {
                        name = random
                        design = "NAME_Warrior_Freehold"
                        graphical_culture = "pirate_01"
                    }
                    set_location = {
                        target = prev
                        distance = 230
                        angle = 0
                    }
                }
            }
            create_fleet = {
                effect = {
                    set_owner = event_target:SW_bad_country_of_awakened_marauders
                    create_ship = {
                        name = random
                        design = "NAME_Ancestral_Glory"
                        graphical_culture = "pirate_01"
                    }
                    set_formation_scale = 2
                    set_fleet_stance = aggressive
                    set_aggro_range_measure_from = self
                    set_aggro_range = 250
                    set_location = {
                        target = prev
                        distance = 20
                        angle = 120
                    }
                }
                settings = {
                    garrison = yes
                }
            }
            create_ambient_object = {
                type = "abandoned_starbase_01_object"
                location = this
            }
        }
        change_pc = rl_unhabitable_planets
    }
}
#小虫灾
planet_event = {
    id = SW_change.22
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        is_planet_class = pc_shielded_red
        has_planet_flag = pc_shielded_red_2
    }
    immediate = {
        solar_system.starbase.owner = { country_event = { id = SW_change.30 } }
        create_species = {
            name = "NAME_Prethoryn"
            class = SWARM
            namelist = Prethoryn
            portrait = random
            traits = random
            immortal = yes
            effect = { save_event_target_as = SW_bad_country_of_prethoryn_species }
        }
        create_country = {
            name = "NAME_Prethoryn_Scourge_small"
            type = "swarm_special"
            species = event_target:SW_bad_country_of_prethoryn_species
            name_list = "Prethoryn"
            flag = {
                icon = {
                    category = "special"
                    file = "the_swarm.dds"
                }
                background = {
                    category = "backgrounds"
                    file = "new_dawn.dds"
                }
                colors = {
                    "orange"
                    "grey"
                    "null"
                    "null"
                }
            }
            effect = {
                save_event_target_as = SW_bad_country_of_prethoryn
                save_event_target_as = SW_bad_country_of_prethoryn_vgrd
                create_ship_design = { design = "NAME_Swarm_Transport" }
                add_ship_design = last_created_design
                create_ship_design = { design = "NAME_Swarm_Colonizer" }
                add_ship_design = last_created_design
                create_ship_design = { design = "NAME_Swarm_Constructor" }
                add_ship_design = last_created_design
                create_ship_design = { design = "NAME_Swarm_Starbase" }
                add_ship_design = last_created_design
            }
        }
        solar_system = {
            if = {
                limit = {
                    any_fleet_in_system = {
                        is_ship_class = shipclass_starbase
                    }
                }
                random_fleet_in_system = {
                    limit = {
                        any_controlled_ship = {
                            is_ship_class = shipclass_starbase
                        }
                    }
                    destroy_fleet = this
                }
            }
            create_starbase = {
                size = starbase_swarm
                owner = event_target:SW_bad_country_of_prethoryn_vgrd
            }
        }
        event_target:SW_bad_country_of_prethoryn = {

            ### FIRST SYSTEM

            swarm_vanguard = yes

            # Constructor
            create_fleet = {
                name = "NAME_Prethoryn_Constructor"
                effect = {
                    set_owner = PREV
                    create_ship = {
                        name = random
                        design = "NAME_Swarm_Constructor"
                        graphical_culture = "swarm_01"
                    }
                    set_location = {
                        target = PREVPREV
                        distance = 10
                        angle = random
                    }
                }
            }
        }
        change_pc = rl_unhabitable_planets
    }
}
#小肃正协议
planet_event = {
    id = SW_change.23
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        is_planet_class = pc_shielded_red
        has_planet_flag = pc_shielded_red_3
    }
    immediate = {
        solar_system.starbase.owner = { country_event = { id = SW_change.30 } }
        create_species = {
            name = "NAME_Custodian_Bot"
            class = "ROBOT"
            namelist = "AI"
            portrait = "hum_robot_red"
            traits = {
                trait = "trait_mechanical"
            }
            effect = { save_global_event_target_as = SW_bad_country_of_custodian_bot }
        }
        create_species = {
            name = "NAME_Contingency_small"
            class = "ROBOT"
            namelist = "AI"
            portrait = "ai_crisis_1"
            immortal = yes
            traits = {
                trait = "trait_mechanical"
            }
            effect = { save_global_event_target_as = SW_bad_country_of_contingency_bot }
        }
        create_country = {
            name = NAME_Contingency_small
            species = event_target:SW_bad_country_of_custodian_bot # for pops
            #species = ROBOT_POP_SPECIES_3
            authority = auth_ancient_machine_intelligence
            ethos = {
                ethic = ethic_gestalt_consciousness
            }
            civics = {
                civic = civic_machine_terminator
                civic = civic_machine_warbots
            }
            type = "ai_empire_special"
            name_list = "AI"
            flag = {
                icon = {
                    category = "special"
                    file = "ai_01.dds"
                }
                background = {
                    category = "backgrounds"
                    file = "circle.dds"
                }
                colors = {
                    "black"
                    "red"
                    "null"
                    "null"
                }
            }
            effect = {
                set_graphical_culture = ai_01
                create_leader = {
                    class = commander
                    species = event_target:SW_bad_country_of_contingency_bot
                    name = random
                    effect = {
                        save_event_target_as = SW_bad_country_of_contingency_ruler
                    }
                }
                set_leader = event_target:SW_bad_country_of_contingency_ruler
                create_ship_design = { design = "NAME_AI_Transport" }
                add_ship_design = last_created_design
                create_ship_design = { design = "NAME_AI_Constructor" }
                add_ship_design = last_created_design
                create_ship_design = { design = "NAME_AI_1" }
                add_ship_design = last_created_design
                create_ship_design = { design = "NAME_AI_2" }
                add_ship_design = last_created_design
                create_ship_design = { design = "NAME_AI_STARBASE" }
                add_ship_design = last_created_design
                save_event_target_as = SW_bad_country_of_AI_crisis
            }
        }
        event_target:SW_bad_country_of_AI_crisis = {
            create_leader = {
                class = commander
                species = event_target:SW_bad_country_of_contingency_bot
                name = random
                skill = 3
                effect = {
                    set_age = 0
                    save_event_target_as = SW_bad_country_of_contingency_fleet_leader
                }
            }
        }
        create_fleet = {
            effect = {
                set_owner = event_target:SW_bad_country_of_AI_crisis
                while = {
                    count = 10
                    create_ship = {
                        name = random
                        design = "NAME_Euthanizer"
                        graphical_culture = "ai_01"
                    }
                }
                assign_leader = event_target:SW_bad_country_of_contingency_fleet_leader
                while = {
                    count = 10
                    create_ship = {
                        name = random
                        design = "NAME_Sterilizer"
                        graphical_culture = "ai_01"
                    }
                }
                set_location = {
                    target = root
                    distance = 45
                    angle = random
                }
                set_fleet_bombardment_stance = armageddon
            }
        }

        solar_system = {
            if = {
                limit = { exists = starbase }
                starbase = {
                    fleet = {
                        destroy_fleet = this
                    }
                }
            }
            create_starbase = {
                size = starbase_ai
                owner = event_target:SW_bad_country_of_AI_crisis
            }
        }
        change_pc = rl_unhabitable_planets
    }
}
#小恶魔
planet_event = {
    id = SW_change.24
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        is_planet_class = pc_shielded_red
        has_planet_flag = pc_shielded_red_4
    }
    immediate = {
        solar_system.starbase.owner = { country_event = { id = SW_change.30 } }
        create_species = {
            name = "NAME_Unbidden"
            class = EXD
            namelist = Extradimensional
            portrait = exd1_leader
            traits = random
            effect = { save_event_target_as = SW_extradimensional_species }
        }
        create_country = {
            name = "NAME_Unbidden_small"
            type = "extradimensional_special"
            species = event_target:SW_extradimensional_species
            name_list = "Extradimensional"
            flag = {
                icon = {
                    category = "special"
                    file = "extradimensional_01.dds"
                }
                background = {
                    category = "backgrounds"
                    file = "circle.dds"
                }
                colors = {
                    "indigo"
                    "blue"
                    "null"
                    "null"
                }
            }
            effect = {
                create_ship_design = { design = "NAME_Void_Shaper" }
                add_ship_design = last_created_design
                create_ship_design = { design = "NAME_Unbidden_Anchor" }
                add_ship_design = last_created_design
                create_ship_design = { design = "NAME_Unbidden_Starbase" }
                add_ship_design = last_created_design
                save_global_event_target_as = SW_extradimensionals

                set_graphical_culture = extra_dimensional_01
                save_event_target_as = SW_extradimensionals
            }
        }
        solar_system = {
            if = {
                limit = { exists = starbase }
                starbase = {
                    fleet = {
                        destroy_fleet = this
                    }
                }
            }
            create_starbase = {
                size = starbase_exd_0
                owner = event_target:SW_extradimensionals
            }
        }
        event_target:SW_extradimensionals = {
            create_fleet = {
                name = "NAME_Dimensional_Portal"
                effect = {
                    set_owner = PREV
                    create_ship = {
                        name = random
                        design = "NAME_Unbidden_Portal"
                        graphical_culture = "extra_dimensional_01"
                        effect = { set_ship_flag = SW_unbidden_portal }
                    }
                    set_location = {
                        target = Root.solar_system
                        distance = 40
                        angle = random
                    }
                    save_event_target_as = SW_dimensional_portal
                }
            }
            create_leader = {
                class = commander
                species = event_target:SW_extradimensional_species
                name = random
                skill = 3
                traits = {
                    trait = leader_trait_ethereal
                }
            }
            create_fleet = {
                effect = {
                    set_owner = PREV
                    create_ship = {
                        name = random
                        design = "NAME_Revenant"
                        graphical_culture = "extra_dimensional_01"
                    }
                    assign_leader = last_created_leader
                    while = {
                        count = 5
                        create_ship = {
                            name = random
                            design = "NAME_Revenant"
                            graphical_culture = "extra_dimensional_01"
                        }
                    }
                    while = {
                        count = 15
                        create_ship = {
                            name = random
                            design = "NAME_Phantom"
                            graphical_culture = "extra_dimensional_01"
                        }
                    }
                    while = {
                        count = 5
                        create_ship = {
                            name = random
                            design = "NAME_Wraith"
                            graphical_culture = "extra_dimensional_01"
                        }
                    }
                    set_location = {
                        target = event_target:SW_dimensional_portal
                        distance = 5
                        angle = random
                    }
                    set_fleet_stance = aggressive
                    set_aggro_range = 500
                    set_aggro_range_measure_from = self
                    set_fleet_bombardment_stance = armageddon
                }
            }
        }
        change_pc = rl_unhabitable_planets
    }
}
#敌对的土著
planet_event = {
    id = SW_change.25
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        is_planet_class = pc_shielded_red
        has_planet_flag = pc_shielded_red_5
    }
    immediate = {
        solar_system.starbase.owner = { country_event = { id = SW_change.30 } }
        solar_system.starbase.owner = {
            save_global_event_target_as = player_country_SW_bad
        }
        change_pc = pc_gaia
        create_species = {
            class = random_non_machine
            pop_ethics = random
        }
        create_country = {
            name = precious_moon
            name_list = random
            species = last_created_species
            type = default
            civics = {
                civic = civic_fanatic_purifiers
                civic = civic_barbaric_despoilers
            }
            effect = {
                save_global_event_target_as = SW_good_country_to_player_bad
                add_resource = {
                    energy = 100000
                    alloys = 100000
                    minerals = 100000
                    consumer_goods = 100000
                }
                #country_event = { id = SW_change.28 days = 30 }
            }
        }
        while = {
            count = 15
            create_pop = {
                species = event_target:SW_good_country_to_player_bad.owner_main_species
            }
        }
        while = {
            count = 10
            add_district = district_city
        }
        while = {
            count = 5
            add_district = district_generator
        }
        while = {
            count = 5
            add_district = district_farming
        }
        while = {
            count = 5
            add_district = district_mining
        }
        while = {
            count = 2
            add_deposit = d_ancient_mining_site
        }
        while = {
            count = 1
            add_deposit = d_hyperfertile_valley
        }
        while = {
            count = 5
            add_deposit = d_irradiated_valley
        }
        add_building = building_capital
        add_building = building_artist_patron
        add_building = building_ministry_production
        solar_system = {
            if = {
                limit = { exists = starbase }
                starbase = {
                    fleet = {
                        destroy_fleet = this
                    }
                }
            }
            create_starbase = {
                size = starbase_outpost
                owner = event_target:SW_good_country_to_player_bad
            }
        }
        event_target:player_country_SW_bad = {
            establish_communications_no_message = event_target:SW_good_country_to_player_bad
        }
        event_target:SW_good_country_to_player_bad = {
            establish_communications_no_message = event_target:player_country_SW_bad
        }
        event_target:SW_good_country_to_player_bad = {
            declare_war = {
                target = event_target:player_country_SW_bad
                attacker_war_goal = wg_plunder
            }
            while = {
                count = 10
                create_fleet = {
                    effect = {
                        while = {
                            count = 20
                            create_ship = {
                                design = "NAME_R44"
                                graphical_culture = pirate_01
                            }
                        }
                        set_owner = event_target:SW_good_country_to_player_bad
                        set_location = event_target:SW_good_country_to_player_bad.capital_scope
                    }
                }
            }
        }
    }
}
#一个烦人的野怪
planet_event = {
    id = SW_change.26
    title = SW_change.1_title
    desc = SW_change.26_desc
    picture = GFX_evt_DOT_SR_001
    is_triggered_only = yes
    trigger = {
        is_planet_class = pc_shielded_red
        has_planet_flag = pc_shielded_red_6
    }
    option = {
        name = OK
    }
    immediate = {
        save_event_target_as = SW_empire_with_dragon
        save_event_target_as = SW_here_be_dragons_planet
        solar_system = {
            set_star_flag = SW_here_be_dragons_system
        }
        create_country = {
            name = "NAME_Sky_Dragon"
            type = origin_dragon
            auto_delete = no
            use_hostilities_from = root.solar_system.starbase.owner
            flag = {
                icon = {
                    category = "spherical"
                    file = "flag_spherical_6.dds"
                }
                background = {
                    category = "backgrounds"
                    file = "00_solid.dds"
                }
                colors = {
                    "dark_blue"
                    "dark_blue"
                    "null"
                    "null"
                }
            }
            effect = {
                root.solar_system.starbase.owner = {
                    save_global_event_target_as = SW_change26_for_player
                }
                establish_communications_no_message = root.solar_system.starbase.owner
                set_faction_hostility = {
                    target = root.solar_system.starbase.owner
                    set_hostile = yes
                    set_neutral = no
                    set_friendly = no
                }
                save_event_target_as = SW_here_be_the_dragon_country
                set_country_flag = SW_here_be_the_dragon
                set_country_flag = SW_here_be_the_dragon@root
                create_fleet = {
                    name = "NAME_Sky_Dragon"
                    settings = {
                        spawn_debris = no
                        is_boss = yes
                        can_change_leader = no
                    }
                    effect = {
                        set_fleet_flag = SW_here_be_the_dragon_ship
                        set_owner = event_target:SW_here_be_the_dragon_country
                        create_ship = {
                            name = "NAME_Sky_Dragon"
                            design = "NAME_Sky_Dragon"
                            effect = {
                                set_ship_flag = SW_here_be_the_dragon_ship
                                save_event_target_as = SW_here_be_the_dragon_ship
                                add_modifier = { modifier = dragon_add_modifier }
                            }
                        }
                        set_location = {
                            target = event_target:SW_here_be_dragons_planet
                            distance = 10
                            angle = 90
                            #direction = in_system
                        }
                        set_fleet_stance = passive
                        set_aggro_range_measure_from = self
                        set_aggro_range = 350

                        queue_actions = {
                            repeat = {
                                find_random_system = {
                                    trigger = {
                                        id = wraith.1.trigger.1
                                        any_system_planet = {
                                            is_owned_by = event_target:SW_change26_for_player
                                        }
                                    }
                                    found_system = {
                                        move_to = this
                                        find_closest_planet = {
                                            trigger = {
                                                id = wraith.1.trigger.2
                                                is_owned_by = event_target:SW_change26_for_player
                                            }
                                            found_planet = {
                                                move_to = this
                                                orbit_planet = this
                                                wait = {
                                                    duration = 100
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
        change_pc = rl_unhabitable_planets
    }
}
fleet_event = {
    id = SW_change.27
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        This = {
            has_fleet_flag = SW_here_be_the_dragon_ship
        }
    }
    immediate = {
        From = {
            add_modifier = {
                modifier = dragon_in_planet_orbit
                months = 2
            }
        }
    }
}
#################
# 告知事件
#################
country_event = {
    id = SW_change.30
    title = SW_change.1_title
    desc = SW_change.30_desc
    picture = GFX_evt_DOT_SR_001
    is_triggered_only = yes
    option = {
        name = SW_change.30_title
        #every_system = {
        #    create_starbase = {
        #        size = starbase_citadel
        #        owner = Root
        #    }
        #}
    }
}
######################
# cao cao cao cao cao cao cao cao cao,tmd星球没主人de事件无法显示UI,还得重新写一遍，aaaaaaaaaa啊啊啊啊啊啊啊啊#
######################
country_event = {
    id = SW_change.31
    is_triggered_only = yes
    title = SW_change.1_title
    picture = GFX_evt_DOT_SR_001
    desc = {
        trigger = {
            event_target:SW_pc_sheild_planet_target = {
                has_planet_flag = pc_shielded_yellow_1
            }
        }
        text = SW_change.1_desc_a
    }
    desc = {
        trigger = {
            event_target:SW_pc_sheild_planet_target = {
                has_planet_flag = pc_shielded_yellow_2
            }
        }
        text = SW_change.1_desc_b
    }
    desc = {
        trigger = {
            event_target:SW_pc_sheild_planet_target = {
                has_planet_flag = pc_shielded_yellow_3
            }
        }
        text = SW_change.1_desc_c
    }
    desc = {
        trigger = {
            event_target:SW_pc_sheild_planet_target = {
                has_planet_flag = pc_shielded_yellow_4
            }
        }
        text = SW_change.1_desc_d
    }
    desc = {
        trigger = {
            event_target:SW_pc_sheild_planet_target = {
                has_planet_flag = pc_shielded_yellow_5
            }
        }
        text = SW_change.1_desc_e
    }
    desc = {
        trigger = {
            event_target:SW_pc_sheild_planet_target = {
                has_planet_flag = pc_shielded_yellow_6
            }
        }
        text = SW_change.1_desc_f
    }
    trigger = {
        #event_target:SW_pc_sheild_planet_target = {
        #    is_planet_class = pc_shielded_yellow
        #    OR = {
        #        has_planet_flag = pc_shielded_yellow_1
        #        has_planet_flag = pc_shielded_yellow_2
        #        has_planet_flag = pc_shielded_yellow_3
        #        has_planet_flag = pc_shielded_yellow_4
        #        has_planet_flag = pc_shielded_yellow_5
        #        has_planet_flag = pc_shielded_yellow_6
        #    }
        #}
    }
    option = {
        name = SW_change.1_title_a
        trigger = {
            event_target:SW_pc_sheild_planet_target = {
                hidden_trigger = {
                    OR = {
                        has_planet_flag = pc_shielded_yellow_1
                        has_planet_flag = pc_shielded_yellow_2
                        has_planet_flag = pc_shielded_yellow_3
                        has_planet_flag = pc_shielded_yellow_4
                        has_planet_flag = pc_shielded_yellow_5
                    }
                }
            }
        }
    }
    option = {
        name = SW_change.1_title_b
        trigger = {
            event_target:SW_pc_sheild_planet_target = {
                hidden_trigger = {
                    OR = {
                        has_planet_flag = pc_shielded_yellow_6
                    }
                }
            }
        }
    }
    option = {
        name = SW_change.1_title_c
        trigger = {
            event_target:SW_pc_sheild_planet_target = {
                hidden_trigger = {
                    NOR = {
                        has_planet_flag = pc_shielded_yellow_1
                        has_planet_flag = pc_shielded_yellow_2
                        has_planet_flag = pc_shielded_yellow_3
                        has_planet_flag = pc_shielded_yellow_4
                        has_planet_flag = pc_shielded_yellow_5
                        has_planet_flag = pc_shielded_yellow_6
                    }
                }
            }
        }
    }
}
#人口
country_event = {
    id = SW_change.32
    title = SW_change.1_title
    desc = SW_change.11_desc
    picture = GFX_evt_spy_network
    is_triggered_only = yes
    location = Root
    trigger = {
        #event_target:SW_pc_sheild_planet_target = {
        #    is_planet_class = pc_shielded_white
        #    has_planet_flag = pc_shielded_white_1
        #}
    }

    option = {
        name = SW_change.11_title_a
    }

    option = {
        name = SW_change.11_title_b
        hidden_effect = {
            create_species = {
                class = random
                effect = {
                    change_species_characteristics = { add_traits_at_start_of_list = yes }
                }
            }
            solar_system.starbase.owner.capital_scope = {
                while = {
                    count = 10
                    create_pop = {
                        species = last_created_species
                    }
                }
            }
            event_target:SW_pc_sheild_planet_target = {
                change_pc = "rl_habitable_normal"
            }
        }
    }
}
#舰队
country_event = {
    id = SW_change.33
    title = SW_change.1_title
    desc = SW_change.12_dsec
    picture = GFX_evt_DOT_SR_001
    is_triggered_only = yes
    location = Root
    trigger = {
        #is_planet_class = pc_shielded_white
        #has_planet_flag = pc_shielded_white_2
    }
    option = {
        name = SW_change.12_title_a
    }
}
#遗珍
country_event = {
    id = SW_change.34
    title = SW_change.1_title
    desc = SW_change.13_desc
    picture = GFX_evt_DOT_SR_001
    is_triggered_only = yes
    location = Root
    trigger = {
        #is_planet_class = pc_shielded_white
        #has_planet_flag = pc_shielded_white_3
    }
    option = {
        name = OK
    }
}
#虫洞
country_event = {
    id = SW_change.35
    title = SW_change.1_title
    desc = SW_change.14_desc
    picture = GFX_evt_DOT_SR_001
    is_triggered_only = yes
    location = Root
    trigger = {
        #is_planet_class = pc_shielded_white
        #has_planet_flag = pc_shielded_white_4
    }
    option = {
        name = SW_change.14_title_a
    }
}
#科技
country_event = {
    id = SW_change.36
    title = SW_change.1_title
    desc = SW_change.15_desc
    picture = GFX_evt_DOT_SR_001
    is_triggered_only = yes
    location = Root
    trigger = {
        #is_planet_class = pc_shielded_white
        #has_planet_flag = pc_shielded_white_5
    }
    option = {
        name = OK
    }
}
#附属国
country_event = {
    id = SW_change.37
    title = SW_change.1_title
    desc = SW_change.1_desc
    picture = GFX_evt_DOT_SR_001
    is_triggered_only = yes
    location = Root
    trigger = {
        #is_planet_class = pc_shielded_white
        #has_planet_flag = pc_shielded_white_6
    }
    option = {
        name = OK
    }
}
#################
# 摧毁没有舰队的小国家
#################
#country_event = {
#    id = SW_change.28
#    title = a
#    desc = a
#    is_triggered_only = yes
#    trigger = {
#        fleet_power < 1000
#    }
#    immediate = {
#        if = {
#            limit = {
#                fleet_power < 1000
#            }
#            destroy_country = yes
#        }
#        country_event = { id = SW_change.28 days = 30 }
#    }
#}
#################
# 指示事件
#################
country_event = {
    id = SW_change.99
    title = SW_change.99_title
    desc = SW_change.99_desc
    picture = GFX_evt_DOT_SR_001
    is_triggered_only = yes
    trigger = {
        is_ai = no
        NOT = {
            has_relic = r_ev_fleet_bingyangzhang
        }
    }
    immediate = {
        if = {
            limit = {
                NOT = {
                    has_relic = r_ev_fleet_bingyangzhang
                }
            }
            add_relic = r_ev_fleet_bingyangzhang
        }
    }
    option = {
        name = OK
    }
}
country_event = {
    id = SW_change.100
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        is_ai = no
    }
    immediate = {
        every_planet_within_border = {
            if = {
                limit = {
                    is_planet_class = pc_shielded_red
                }
                enable_special_project = {
                    name = pc_shielded_red
                    location = This
                    owner = Root
                }
            }
            if = {
                limit = {
                    is_planet_class = pc_shielded_white
                }
                enable_special_project = {
                    name = pc_shielded_white
                    location = This
                    owner = Root
                }
            }
            if = {
                limit = {
                    is_planet_class = pc_shielded_yellow
                }
                enable_special_project = {
                    name = pc_shielded_yellow
                    location = This
                    owner = Root
                }
            }
        }
    }
}