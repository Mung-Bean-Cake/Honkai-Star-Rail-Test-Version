namespace = hsr_ui
country_event = {
	id = hsr_ui.1
	title = "hsr_ui.1.title"
	desc = "hsr_ui.1.desc"
	diplomatic = yes
	custom_gui = honkai_star_rail_leader_show_main
	custom_gui_option = hsr_leader_show_option
	picture_event_data = {
		portrait = daheita
		room = hsr_leader_room
	}
	is_triggered_only = yes
	option = {
		name = hsr_ui.1.a
		is_dialog_only = yes
		response_text = hsr_ui.1.a.desc
	}
	option = {
		name = hsr_ui.1.b
		is_dialog_only = yes
		custom_tooltip = hsr_ui.1.b.desc
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_text
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 2000
					}
				}
			}
			custom_tooltip = {
				fail_text = hsr_ui.1.fail
				hidden_trigger = {
					not ={
						any_owned_leader = {
							has_leader_flag = daheita
						}
					}
				}
			}
		}
		ui_hire_leader = { EVENT_NAME = hsr_paragon.1 }
	}
	option = {
		name = hsr_ui.1.c
		is_dialog_only = yes
		response_text = hsr_ui.1.c.desc_tooltip
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_1_text
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 500
					}
				}
			}
			custom_tooltip = {
				fail_text = trait_has_learn_text
				hidden_trigger = {
					any_owned_leader = {
						has_leader_flag = daheita
						not = {has_trait = leader_daherta_t4}
					}
				}
			}
		}
		hidden_effect = {
			ui_leader_get_trait = {LEADER_TARGET = daheita_leader TRAIT = leader_daherta_t4 }
		}
	}
	option = {
		name = hsr_ui.1.d
		is_dialog_only = yes
		response_text = hsr_ui.1.d.desc_tooltip
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_1_text
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 500
					}
				}
			}
			custom_tooltip = {
				fail_text = trait_has_learn_text
				hidden_trigger = {
					any_owned_leader = {
						has_leader_flag = daheita
						not = {has_trait = leader_daherta_t5}
					}
				}
			}
		}
		hidden_effect = {
			ui_leader_get_trait = {LEADER_TARGET = daheita_leader TRAIT = leader_daherta_t5 }
		}
	}
	option = {
		name = hsr_ui.1.e
		allow = {
			custom_tooltip = {
				fail_text = hsr_ui.1.e.fail
				hidden_trigger = {
					has_country_flag = daheita_set
					not ={ any_owned_leader = { has_leader_flag = daheita }}
				}
			}
		}
		custom_tooltip = hsr_ui.1.e.desc
		is_dialog_only = yes
		response_text = hsr_ui.1.e.desc
		hidden_effect = {
			clone_leader = {
				target = event_target:daheita_leader
			}
			last_created_leader = {
				set_leader_flag = legendary_leader
				save_global_event_target_as = daheita_leader
				set_leader_flag = immune_to_negative_traits
				set_leader_flag = daheita
			}
		}
	}
	option = {
		name = hsr_ui.1.f
		allow = {
			custom_tooltip = {
				fail_text = hsr_ui.1.fail
				hidden_trigger = {
					any_owned_leader = {
						has_leader_flag = daheita
					}
				}
			}
			custom_tooltip = {
				fail_text = yuzhousuipian_short_2_text
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 1500
					}
				}
			}
			custom_tooltip = {
				fail_text = hsr_ui.1.f.desc
				hidden_trigger = {
					any_owned_leader = {
						has_leader_flag = daheita
						has_trait = leader_daherta_t5
					}
				}
			}
		}
		is_dialog_only = yes
		response_text = hsr_ui.1.f.desc
		ui_leader_get_other_skill = {LEADER_SKILL = num_daherta_other_skill  SPEND_VALUE = -500  LEVEL_VALUE = 1}
	}
    option = {
        name = hsr_ui.1.g
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.1.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = daheita
                    }
                }
            }
            custom_tooltip = {
                fail_text = yuzhousuipian_short_3_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 5000
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.1.f.desc
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = daheita
                        has_trait = leader_daherta_t5
                    }
                }
            }
        }
        is_dialog_only = yes
        response_text = hsr_ui.1.f.desc
        ui_leader_get_other_skill = {LEADER_SKILL = num_daherta_other_skill  SPEND_VALUE = -5000  LEVEL_VALUE = 10}
    }
    option = {
        name = hsr_ui.1.h
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.1.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = daheita
                    }
                }
            }
            custom_tooltip = {
                fail_text = yuzhousuipian_short_3_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 50000
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.1.f.desc
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = daheita
                        has_trait = leader_daherta_t5
                    }
                }
            }
        }
        is_dialog_only = yes
        response_text = hsr_ui.1.f.desc
        ui_leader_get_other_skill = {LEADER_SKILL = num_daherta_other_skill  SPEND_VALUE = -50000  LEVEL_VALUE = 10}
    }
    option = {
        name = hsr_ui.1.i
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.1.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = daheita
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.1.i.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = daheita
                        has_trait = leader_daherta_t3
                    }
                }
            }
        }
        is_dialog_only = yes
        response_text = hsr_ui.1.f.desc
        hidden_effect = {
            country_event = { id = hsr_ui.1000 }
        }
    }
	option = {
		name = CLOSE
		default_hide_option = yes
	}
}
country_event = {
    id = hsr_ui.1000
    title = hsr_ui.1000.title
    desc = {
        trigger = {
            has_country_flag = leader_daherta_t3_on
        }
        text = hsr_ui.1000.desc.a
    }
    desc = {
        trigger = {
            not = {
                has_country_flag = leader_daherta_t3_on
            }
        }
        text = hsr_ui.1000.desc.b
    }
    picture = GFX_evt_astral_rift
    is_triggered_only = yes
    trigger = {  }
    option = {
        name = hsr_ui.1000.a
        hidden_effect = {
            set_country_flag = leader_daherta_t3_on
        }
    }
    option = {
        name = hsr_ui.1000.b
        hidden_effect = {
            remove_country_flag = leader_daherta_t3_on
        }
    }
    option = {
        name = CLOSE
    }
}
country_event = {
	id = hsr_ui.2
	title = "hsr_ui.2.title"
	desc = "hsr_ui.2.desc"
	diplomatic = yes
	custom_gui = honkai_star_rail_leader_show_main
	custom_gui_option = hsr_leader_show_option
	picture_event_data = {
		portrait = heita
		room = hsr_leader_room
	}
	is_triggered_only = yes
	option = {
		name = hsr_ui.2.a
		is_dialog_only = yes
		response_text = hsr_ui.2.a.desc
	}
	option = {
		name = hsr_ui.2.b
		is_dialog_only = yes
		custom_tooltip = hsr_ui.2.b.desc
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_text
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 2000
					}
				}
			}
			custom_tooltip = {
				fail_text = hsr_ui.2.fail
				hidden_trigger = {
					not ={
						any_owned_leader = {
							has_leader_flag = heita
						}
					}
				}
			}
		}
		ui_hire_leader = { EVENT_NAME = hsr_paragon.2 }
	}
	option = {
		name = hsr_ui.2.c
		is_dialog_only = yes
		response_text = hsr_ui.2.c.desc_tooltip
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_1_text
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 500
					}
				}
			}
			custom_tooltip = {
				fail_text = trait_has_learn_text
				hidden_trigger = {
					any_owned_leader = {
						has_leader_flag = heita
						not = {has_trait = leader_herta_t4}
					}
				}
			}
		}
		hidden_effect = {
			ui_leader_get_trait = {LEADER_TARGET = heita_leader TRAIT = leader_herta_t4 }
		}
	}
	option = {
		name = hsr_ui.2.d
		is_dialog_only = yes
		response_text = hsr_ui.2.d.desc_tooltip
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_1_text
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 500
					}
				}
			}
			custom_tooltip = {
				fail_text = trait_has_learn_text
				hidden_trigger = {
					any_owned_leader = {
						has_leader_flag = heita
						not = {has_trait = leader_herta_t5}
					}
				}
			}
		}
		hidden_effect = {
			ui_leader_get_trait = {LEADER_TARGET = heita_leader TRAIT = leader_herta_t5 }
		}
	}
	option = {
		name = hsr_ui.2.e
		allow = {
			custom_tooltip = {
				fail_text = hsr_ui.2.e.fail
				hidden_trigger = {
					has_country_flag = heita_set
					not ={ any_owned_leader = { has_leader_flag = heita }}
				}
			}
		}
		custom_tooltip = hsr_ui.2.e.desc
		is_dialog_only = yes
		response_text = hsr_ui.2.e.desc
		hidden_effect = {
			clone_leader = {
				target = event_target:heita_leader
			}
			last_created_leader = {
				set_leader_flag = legendary_leader
				save_global_event_target_as = heita_leader
				set_leader_flag = immune_to_negative_traits
				set_leader_flag = heita
			}
		}
	}
    option = {
        name = hsr_ui.2.f
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.2.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = heita
                    }
                }
            }
            custom_tooltip = {
                fail_text = yuzhousuipian_short_2_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 1500
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.2.f.desc
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = heita
                        has_trait = leader_herta_t5
                    }
                }
            }
        }
        is_dialog_only = yes
        response_text = hsr_ui.2.f.desc
        ui_leader_get_other_skill = {LEADER_SKILL = num_herta_other_skill  SPEND_VALUE = -500  LEVEL_VALUE = 1}
    }
    option = {
        name = hsr_ui.2.g
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.2.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = heita
                    }
                }
            }
            custom_tooltip = {
                fail_text = yuzhousuipian_short_3_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 5000
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.2.f.desc
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = heita
                        has_trait = leader_herta_t5
                    }
                }
            }
        }
        is_dialog_only = yes
        response_text = hsr_ui.2.f.desc
        ui_leader_get_other_skill = {LEADER_SKILL = num_herta_other_skill  SPEND_VALUE = -5000  LEVEL_VALUE = 10}
    }
    option = {
        name = hsr_ui.2.h
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.2.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = heita
                    }
                }
            }
            custom_tooltip = {
                fail_text = yuzhousuipian_short_3_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 50000
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.2.f.desc
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = heita
                        has_trait = leader_herta_t5
                    }
                }
            }
        }
        is_dialog_only = yes
        response_text = hsr_ui.2.f.desc
        ui_leader_get_other_skill = {LEADER_SKILL = num_herta_other_skill  SPEND_VALUE = -50000  LEVEL_VALUE = 100}
    }
	option = {
		name = CLOSE
		default_hide_option = yes
	}
}
country_event = {
	id = hsr_ui.3
	title = "hsr_ui.3.title"
	desc = "hsr_ui.3.desc"
	diplomatic = yes
	custom_gui = honkai_star_rail_leader_show_main
	custom_gui_option = hsr_leader_show_option
	picture_event_data = {
		portrait = aisida
		room = hsr_leader_room
	}
	is_triggered_only = yes
	option = {
		name = hsr_ui.3.a
		is_dialog_only = yes
		response_text = hsr_ui.3.a.desc
	}
	option = {
		name = hsr_ui.3.b
		is_dialog_only = yes
		custom_tooltip = hsr_ui.3.b.desc
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_text
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 2000
					}
				}
			}
			custom_tooltip = {
				fail_text = hsr_ui.3.fail
				hidden_trigger = {
					not ={
						any_owned_leader = {
							has_leader_flag = aisida
						}
					}
				}
			}
		}
		ui_hire_leader = { EVENT_NAME = hsr_paragon.3 }
	}
	option = {
		name = hsr_ui.3.c
		is_dialog_only = yes
		response_text = hsr_ui.3.c.desc_tooltip
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_1_text
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 500
					}
				}
			}
			custom_tooltip = {
				fail_text = trait_has_learn_text
				hidden_trigger = {
					any_owned_leader = {
						has_leader_flag = aisida
						not = {has_trait = leader_aisida_t4}
					}
				}
			}
		}
		hidden_effect = {
			ui_leader_get_trait = {LEADER_TARGET = aisida_leader TRAIT = leader_aisida_t4 }
		}
	}
	option = {
		name = hsr_ui.3.d
		is_dialog_only = yes
		response_text = hsr_ui.3.d.desc_tooltip
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_1_text
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 500
					}
				}
			}
			custom_tooltip = {
				fail_text = trait_has_learn_text
				hidden_trigger = {
					any_owned_leader = {
						has_leader_flag = aisida
						not = {has_trait = leader_aisida_t5}
					}
				}
			}
		}
		hidden_effect = {
			ui_leader_get_trait = {LEADER_TARGET = aisida_leader TRAIT = leader_aisida_t5 }
		}
	}
	option = {
		name = hsr_ui.3.e
		allow = {
			custom_tooltip = {
				fail_text = hsr_ui.3.e.fail
				hidden_trigger = {
					has_country_flag = aisida_set
					not ={ any_owned_leader = { has_leader_flag = aisida }}
				}
			}
		}
		custom_tooltip = hsr_ui.3.e.desc
		is_dialog_only = yes
		response_text = hsr_ui.3.e.desc
		hidden_effect = {
			clone_leader = {
				target = event_target:aisida_leader
			}
			last_created_leader = {
				set_leader_flag = legendary_leader
				save_global_event_target_as = aisida_leader
				set_leader_flag = immune_to_negative_traits
				set_leader_flag = aisida
			}
		}
	}
    option = {
        name = hsr_ui.3.f
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.3.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = aisida
                    }
                }
            }
            custom_tooltip = {
                fail_text = yuzhousuipian_short_2_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 1500
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.3.f.desc
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = aisida
                        has_trait = leader_aisida_t5
                    }
                }
            }
        }
        is_dialog_only = yes
        response_text = hsr_ui.3.f.desc
        ui_leader_get_other_skill = {LEADER_SKILL = num_aisida_other_skill  SPEND_VALUE = -500  LEVEL_VALUE = 1}
    }
    option = {
        name = hsr_ui.3.g
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.3.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = aisida
                    }
                }
            }
            custom_tooltip = {
                fail_text = yuzhousuipian_short_3_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 5000
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.3.f.desc
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = aisida
                        has_trait = leader_aisida_t5
                    }
                }
            }
        }
        is_dialog_only = yes
        response_text = hsr_ui.3.f.desc
        ui_leader_get_other_skill = {LEADER_SKILL = num_aisida_other_skill  SPEND_VALUE = -5000  LEVEL_VALUE = 10}
    }
    option = {
        name = hsr_ui.3.h
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.3.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = aisida
                    }
                }
            }
            custom_tooltip = {
                fail_text = yuzhousuipian_short_3_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 50000
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.3.f.desc
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = aisida
                        has_trait = leader_aisida_t5
                    }
                }
            }
        }
        is_dialog_only = yes
        response_text = hsr_ui.3.f.desc
        ui_leader_get_other_skill = {LEADER_SKILL = num_aisida_other_skill  SPEND_VALUE = -50000  LEVEL_VALUE = 10}
    }
	option = {
		name = CLOSE
		default_hide_option = yes
	}
}
country_event = {
	id = hsr_ui.4
	title = "hsr_ui.4.title"
	desc = "hsr_ui.4.desc"
	diplomatic = yes
	custom_gui = honkai_star_rail_leader_show_main
	custom_gui_option = hsr_leader_show_option
	picture_event_data = {
		portrait = alan
		room = hsr_leader_room
	}
	is_triggered_only = yes
	option = {
		name = hsr_ui.4.a
		is_dialog_only = yes
		response_text = hsr_ui.4.a.desc
	}
	option = {
		name = hsr_ui.4.b
		is_dialog_only = yes
		custom_tooltip = hsr_ui.4.b.desc
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_text
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 2000
					}
				}
			}
			custom_tooltip = {
				fail_text = hsr_ui.4.fail
				hidden_trigger = {
					not ={
						any_owned_leader = {
							has_leader_flag = alan
						}
					}
				}
			}
		}
		ui_hire_leader = { EVENT_NAME = hsr_paragon.4 }
	}
	option = {
		name = hsr_ui.4.c
		is_dialog_only = yes
		response_text = hsr_ui.4.c.desc_tooltip
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_1_text
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 500
					}
				}
			}
			custom_tooltip = {
				fail_text = trait_has_learn_text
				hidden_trigger = {
					any_owned_leader = {
						has_leader_flag = alan
						not = {has_trait = leader_alan_t4}
					}
				}
			}
		}
		hidden_effect = {
			ui_leader_get_trait = {LEADER_TARGET = alan_leader TRAIT = leader_alan_t4 }
		}
	}
	option = {
		name = hsr_ui.4.d
		is_dialog_only = yes
		response_text = hsr_ui.4.d.desc_tooltip
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_1_text
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 500
					}
				}
			}
			custom_tooltip = {
				fail_text = trait_has_learn_text
				hidden_trigger = {
					any_owned_leader = {
						has_leader_flag = alan
						not = {has_trait = leader_alan_t5}
					}
				}
			}
		}
		hidden_effect = {
			ui_leader_get_trait = {LEADER_TARGET = alan_leader TRAIT = leader_alan_t5 }
		}
	}
	option = {
		name = hsr_ui.4.e
		allow = {
			custom_tooltip = {
				fail_text = hsr_ui.4.e.fail
				hidden_trigger = {
					has_country_flag = alan_set
					not ={ any_owned_leader = { has_leader_flag = alan }}
				}
			}
		}
		custom_tooltip = hsr_ui.4.e.desc
		is_dialog_only = yes
		response_text = hsr_ui.4.e.desc
		hidden_effect = {
			clone_leader = {
				target = event_target:alan_leader
			}
			last_created_leader = {
				set_leader_flag = legendary_leader
				save_global_event_target_as = alan_leader
				set_leader_flag = immune_to_negative_traits
				set_leader_flag = alan
			}
		}
	}
    option = {
        name = hsr_ui.4.f
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.4.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = alan
                    }
                }
            }
            custom_tooltip = {
                fail_text = yuzhousuipian_short_2_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 1500
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.4.f.desc
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = alan
                        has_trait = leader_alan_t5
                    }
                }
            }
        }
        is_dialog_only = yes
        response_text = hsr_ui.4.f.desc
        ui_leader_get_other_skill = {LEADER_SKILL = num_alan_other_skill  SPEND_VALUE = -500  LEVEL_VALUE = 1}
    }
    option = {
        name = hsr_ui.4.g
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.4.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = alan
                    }
                }
            }
            custom_tooltip = {
                fail_text = yuzhousuipian_short_3_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 5000
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.4.f.desc
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = alan
                        has_trait = leader_alan_t5
                    }
                }
            }
        }
        is_dialog_only = yes
        response_text = hsr_ui.4.f.desc
        ui_leader_get_other_skill = {LEADER_SKILL = num_alan_other_skill  SPEND_VALUE = -5000  LEVEL_VALUE = 10}
    }
    option = {
        name = hsr_ui.4.h
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.4.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = alan
                    }
                }
            }
            custom_tooltip = {
                fail_text = yuzhousuipian_short_3_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 50000
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.4.f.desc
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = alan
                        has_trait = leader_alan_t5
                    }
                }
            }
        }
        is_dialog_only = yes
        response_text = hsr_ui.4.f.desc
        ui_leader_get_other_skill = {LEADER_SKILL = num_alan_other_skill  SPEND_VALUE = -50000  LEVEL_VALUE = 10}
    }
	option = {
		name = CLOSE
		default_hide_option = yes
	}
}
country_event = {
	id = hsr_ui.5
	title = "hsr_ui.5.title"
	desc = "hsr_ui.5.desc"
	diplomatic = yes
	custom_gui = honkai_star_rail_leader_show_main
	custom_gui_option = hsr_leader_show_option
	picture_event_data = {
		portrait = ruanmei
		room = hsr_leader_room
	}
	is_triggered_only = yes
	option = {
		name = hsr_ui.5.a
		is_dialog_only = yes
		response_text = hsr_ui.5.a.desc
	}
	option = {
		name = hsr_ui.5.b
		is_dialog_only = yes
		custom_tooltip = hsr_ui.5.b.desc
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_text
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 2000
					}
				}
			}
			custom_tooltip = {
				fail_text = hsr_ui.5.fail
				hidden_trigger = {
					not ={
						any_owned_leader = {
							has_leader_flag = ruanmei
						}
					}
				}
			}
		}
		ui_hire_leader = { EVENT_NAME = hsr_paragon.5 }
	}
	option = {
		name = hsr_ui.5.c
		is_dialog_only = yes
		response_text = hsr_ui.5.c.desc_tooltip
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_1_text
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 500
					}
				}
			}
			custom_tooltip = {
				fail_text = trait_has_learn_text
				hidden_trigger = {
					any_owned_leader = {
						has_leader_flag = ruanmei
						not = {has_trait = leader_ruanmei_t4}
					}
				}
			}
		}
		hidden_effect = {
			ui_leader_get_trait = {LEADER_TARGET = ruanmei_leader TRAIT = leader_ruanmei_t4 }
		}
	}
	option = {
		name = hsr_ui.5.d
		is_dialog_only = yes
		response_text = hsr_ui.5.d.desc_tooltip
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_1_text
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 500
					}
				}
			}
			custom_tooltip = {
				fail_text = trait_has_learn_text
				hidden_trigger = {
					any_owned_leader = {
						has_leader_flag = ruanmei
						not = {has_trait = leader_ruanmei_t5}
					}
				}
			}
		}
		hidden_effect = {
			ui_leader_get_trait = {LEADER_TARGET = ruanmei_leader TRAIT = leader_ruanmei_t5 }
		}
	}
	option = {
		name = hsr_ui.5.e
		allow = {
			custom_tooltip = {
				fail_text = hsr_ui.5.e.fail
				hidden_trigger = {
					has_country_flag = ruanmei_set
					not ={ any_owned_leader = { has_leader_flag = ruanmei }}
				}
			}
		}
		custom_tooltip = hsr_ui.5.e.desc
		is_dialog_only = yes
		response_text = hsr_ui.5.e.desc
		hidden_effect = {
			clone_leader = {
				target = event_target:ruanmei_leader
			}
			last_created_leader = {
				set_leader_flag = legendary_leader
				save_global_event_target_as = ruanmei_leader
				set_leader_flag = immune_to_negative_traits
				set_leader_flag = ruanmei
			}
		}
	}
    option = {
        name = hsr_ui.5.f
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.5.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = ruanmei
                    }
                }
            }
            custom_tooltip = {
                fail_text = yuzhousuipian_short_2_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 1500
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.5.f.desc
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = ruanmei
                        has_trait = leader_ruanmei_t5
                    }
                }
            }
        }
        is_dialog_only = yes
        response_text = hsr_ui.5.f.desc
        ui_leader_get_other_skill = {LEADER_SKILL = num_ruanmei_other_skill  SPEND_VALUE = -500  LEVEL_VALUE = 1}
    }
    option = {
        name = hsr_ui.5.g
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.5.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = ruanmei
                    }
                }
            }
            custom_tooltip = {
                fail_text = yuzhousuipian_short_3_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 5000
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.5.f.desc
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = ruanmei
                        has_trait = leader_ruanmei_t5
                    }
                }
            }
        }
        is_dialog_only = yes
        response_text = hsr_ui.5.f.desc
        ui_leader_get_other_skill = {LEADER_SKILL = num_ruanmei_other_skill  SPEND_VALUE = -5000  LEVEL_VALUE = 10}
    }
    option = {
        name = hsr_ui.5.h
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.5.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = ruanmei
                    }
                }
            }
            custom_tooltip = {
                fail_text = yuzhousuipian_short_3_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 50000
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.5.f.desc
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = ruanmei
                        has_trait = leader_ruanmei_t5
                    }
                }
            }
        }
        is_dialog_only = yes
        response_text = hsr_ui.5.f.desc
        ui_leader_get_other_skill = {LEADER_SKILL = num_ruanmei_other_skill  SPEND_VALUE = -50000  LEVEL_VALUE = 10}
    }
	option = {
		name = CLOSE
		default_hide_option = yes
	}
}
country_event = {
    id = hsr_ui.6
    title = "hsr_ui.6.title"
    desc = "hsr_ui.6.desc"
    diplomatic = yes
    custom_gui = honkai_star_rail_leader_show_main
    custom_gui_option = hsr_leader_show_option
    picture_event_data = {
        portrait = luosi
        room = hsr_leader_room
    }
    is_triggered_only = yes
    option = {
        name = hsr_ui.6.a
        is_dialog_only = yes
        response_text = hsr_ui.6.a.desc
    }
    option = {
        name = hsr_ui.6.b
        is_dialog_only = yes
        custom_tooltip = hsr_ui.6.b.desc
        allow = {
            custom_tooltip = {
                fail_text = yuzhousuipian_short_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 2000
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.6.fail
                hidden_trigger = {
                    not ={
                        any_owned_leader = {
                            has_leader_flag = luosi
                        }
                    }
                }
            }
        }
        ui_hire_leader = { EVENT_NAME = hsr_paragon.6 }
    }
    option = {
        name = hsr_ui.6.c
        is_dialog_only = yes
        response_text = hsr_ui.5.c.desc_tooltip
        allow = {
            custom_tooltip = {
                fail_text = yuzhousuipian_short_1_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 500
                    }
                }
            }
            custom_tooltip = {
                fail_text = trait_has_learn_text
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = luosi
                        not = {has_trait = leader_luosi_t4}
                    }
                }
            }
        }
        hidden_effect = {
            ui_leader_get_trait = {LEADER_TARGET = luosi_leader TRAIT = leader_luosi_t4 }
        }
    }
    option = {
        name = hsr_ui.6.d
        is_dialog_only = yes
        response_text = hsr_ui.6.d.desc_tooltip
        allow = {
            custom_tooltip = {
                fail_text = yuzhousuipian_short_1_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 500
                    }
                }
            }
            custom_tooltip = {
                fail_text = trait_has_learn_text
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = luosi
                        not = {has_trait = leader_luosi_t5}
                    }
                }
            }
        }
        hidden_effect = {
            ui_leader_get_trait = {LEADER_TARGET = luosi_leader TRAIT = leader_luosi_t5 }
        }
    }
    option = {
        name = hsr_ui.6.e
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.6.e.fail
                hidden_trigger = {
                    has_country_flag = luosi_set
                    not ={ any_owned_leader = { has_leader_flag = luosi }}
                }
            }
        }
        custom_tooltip = hsr_ui.6.e.desc
        is_dialog_only = yes
        response_text = hsr_ui.6.e.desc
        hidden_effect = {
            clone_leader = {
                target = event_target:luosi_leader
            }
            last_created_leader = {
                set_leader_flag = legendary_leader
                save_global_event_target_as = luosi_leader
                set_leader_flag = immune_to_negative_traits
                set_leader_flag = luosi
            }
        }
    }
    option = {
        name = hsr_ui.6.f
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.6.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = luosi
                    }
                }
            }
            custom_tooltip = {
                fail_text = yuzhousuipian_short_2_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 1500
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.6.f.desc
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = luosi
                        has_trait = leader_luosi_t5
                    }
                }
            }
        }
        is_dialog_only = yes
        response_text = hsr_ui.6.f.desc
        ui_leader_get_other_skill = {LEADER_SKILL = num_luosi_other_skill  SPEND_VALUE = -500  LEVEL_VALUE = 1}
    }
    option = {
        name = hsr_ui.6.g
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.6.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = luosi
                    }
                }
            }
            custom_tooltip = {
                fail_text = yuzhousuipian_short_3_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 5000
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.6.f.desc
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = luosi
                        has_trait = leader_luosi_t5
                    }
                }
            }
        }
        is_dialog_only = yes
        response_text = hsr_ui.6.f.desc
        ui_leader_get_other_skill = {LEADER_SKILL = num_luosi_other_skill  SPEND_VALUE = -5000  LEVEL_VALUE = 10}
    }
    option = {
        name = hsr_ui.6.h
        allow = {
            custom_tooltip = {
                fail_text = hsr_ui.6.fail
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = luosi
                    }
                }
            }
            custom_tooltip = {
                fail_text = yuzhousuipian_short_3_text
                hidden_trigger = {
                    check_variable = {
                        which = yuzhousuipian
                        value >= 50000
                    }
                }
            }
            custom_tooltip = {
                fail_text = hsr_ui.6.f.desc
                hidden_trigger = {
                    any_owned_leader = {
                        has_leader_flag = luosi
                        has_trait = leader_luosi_t5
                    }
                }
            }
        }
        is_dialog_only = yes
        response_text = hsr_ui.6.f.desc
        ui_leader_get_other_skill = {LEADER_SKILL = num_luosi_other_skill  SPEND_VALUE = -50000  LEVEL_VALUE = 10}
    }
    option = {
        name = CLOSE
        default_hide_option = yes
    }
}
#ui模块
country_event = {
	id = hsr_ui.10000
	title = "hsr_ui.10000.title"
	desc = "hsr_ui.10000.desc"
	diplomatic = yes
	custom_gui = honkai_star_rail_leader_show_main
	custom_gui_option = hsr_leader_show_option
	picture_event_data = {
		portrait = shajin
		room = hsr_leader_room
	}
	is_triggered_only = yes
	option = {
		name = hsr_ui.10000.a
		is_dialog_only = yes
		allow = {
			resource_stockpile_compare = { resource = energy value >= 5000 }
		}
		hidden_effect = {
			change_variable = {
				which = yuzhousuipian
				value = 750
			}
		}
		add_resource = { energy = -5000 }
		response_text = DOT_SR_money_show
	}
	option = {
		name = hsr_ui.10000.b
		is_dialog_only = yes
		allow = {
			resource_stockpile_compare = { resource = energy value >= 20000 }
		}
		hidden_effect = {
			change_variable = {
				which = yuzhousuipian
				value = 3000
			}
		}
		add_resource = { energy = -20000 }
		response_text = DOT_SR_money_show
	}
	option = {
		name = hsr_ui.10000.c
		is_dialog_only = yes
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_2_txt
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 150
					}
				}
			}
		}
		hidden_effect = {
			change_variable = {
				which = yuzhousuipian
				value = -150
			}
		}
		add_resource = { energy = 400 minerals = 400 food = 400 }
		response_text = DOT_SR_money_show
	}
	option = {
		name = hsr_ui.10000.d
		is_dialog_only = yes
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_2_txt
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 150
					}
				}
			}
		}
		hidden_effect = {
			change_variable = {
				which = yuzhousuipian
				value = -150
			}
		}
		add_resource = { alloys = 800 }
		response_text = DOT_SR_money_show
	}
	option = {
		name = hsr_ui.10000.e
		is_dialog_only = yes
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_2_txt
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 150
					}
				}
			}
		}
		hidden_effect = {
			change_variable = {
				which = yuzhousuipian
				value = -150
			}
		}
		add_resource = { consumer_goods = 800 }
		response_text = DOT_SR_money_show
	}
	option = {
		name = hsr_ui.10000.f
		is_dialog_only = yes
		allow = {
			custom_tooltip = {
				fail_text = yuzhousuipian_short_2_txt
				hidden_trigger = {
					check_variable = {
						which = yuzhousuipian
						value >= 150
					}
				}
			}
		}
		hidden_effect = {
			change_variable = {
				which = yuzhousuipian
				value = -150
			}
		}
		add_resource = { volatile_motes = 200 exotic_gases = 200  rare_crystals = 200 sr_dark_matter = 200 }
		response_text = DOT_SR_money_show
	}
	option = {
		name = CLOSE
		default_hide_option = yes
	}
}
country_event = {
    id = hsr_ui.10001
    title = "hsr_ui.10001.title"
    desc = "hsr_ui.10001.desc"
    diplomatic = yes
    custom_gui = honkai_star_rail_leader_show_main
    custom_gui_option = hsr_leader_show_option
    picture_event_data = {
        portrait = jiyinv
        room = hsr_leader_room
    }
    is_triggered_only = yes
    option = {
        name = hsr_ui.10001.a
        is_dialog_only = yes
        allow = {
            is_honkai_star_mod = yes
        }
        hidden_effect = {
            country_event = { id = hsr_on.10002 }
        }
        response_text = hsr_ui.10001.a
    }
    option = {
        name = hsr_ui.10001.b
        is_dialog_only = yes
        allow = {

        }
        hidden_effect = {
            country_event = { id = hsr_on.10000 }
        }
        response_text = hsr_on.10000.desc
    }
    option = {
        name = CLOSE
        default_hide_option = yes
    }
}