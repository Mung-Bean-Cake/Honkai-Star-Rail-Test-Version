tr_herta_discuss_adopt = { #采用巧思（黑塔）传统树效果
    possible = {
        has_ascension_perk = ap_herta_premote
        has_origin = origin_Herta_Space_Station
        custom_tooltip = {
            fail_text = tr_herta_discuss_adopt_tt
            has_country_flag = tr_herta_discuss_adopt
        }
    }
    modifier = {
        planet_jobs_society_research_produces_add = 1
        planet_jobs_physics_research_produces_add = 1
        planet_jobs_engineering_research_produces_add = 1
    }
    on_enabled = {

    }
    unlocks_agenda = agenda_herta_discuss
    custom_tooltip = tr_herta_discuss_adopt_desc
}
tr_herta_discuss_finish = { #w完成黑塔传统树
    custom_tooltip_with_modifiers = tr_herta_discuss_finish_tt
    modifier = {
        empire_size_penalty_mult = -0.10
        tech_cost_empire_size_mult = -0.25
        country_physics_research_produces_mult = 0.1
        country_society_research_produces_mult = 0.1
        country_engineering_research_produces_mult = 0.1
        ascension_perks_add = 1
    }
    on_enabled = {
        give_specimen = { key = galaxy_scholar_star_badge origin = tr_herta_discuss_finish }
    }
}
tr_herta_discuss_1 = {
    possible = {
        has_tradition = tr_herta_discuss_adopt
        has_country_flag = tr_herta_discuss_adopt
    }
    modifier = {
        physics_tech_cost_mult = -0.1
        num_tech_alternatives_add = 1
        country_scientist_cap_add = 1
        scientist_initial_skill = 1
    }
    tradition_swap = {
        name = tr_herta_discuss_1_1
        inherit_effects = no
        inherit_icon = yes
        trigger = {
            has_country_flag = tr_herta_select_ruamei_1
        }
        modifier = {
            society_tech_cost_mult = -0.1
            num_tech_alternatives_add = 1
            country_scientist_cap_add = 1
            scientist_initial_skill = 1
        }
        weight = {
            factor = 1
        }
    }
    tradition_swap = {
        name = tr_herta_discuss_1_2
        inherit_effects = no
        inherit_icon = yes
        trigger = {
            has_country_flag = tr_herta_select_luosi_1
        }
        modifier = {
            engineering_tech_cost_mult = -0.1
            num_tech_alternatives_add = 1
            country_scientist_cap_add = 1
            scientist_initial_skill = 1
        }
        weight = {
            factor = 1
        }
    }
    ai_weight = {
        factor = 1000
    }
}
#二：种族改造和同化
tr_herta_discuss_2 = {
    possible = {
        OR = {
            has_tradition = tr_herta_discuss_1
            has_tradition = tr_herta_discuss_1_1
            has_tradition = tr_herta_discuss_1_2
        }
    }
    custom_tooltip_with_modifiers = tr_cybernetics_modular_cybernetics_tt
    modifier = {
        modify_species_cost_mult = -0.25
        BIOLOGICAL_species_trait_points_add = 3
        BIOLOGICAL_species_trait_picks_add = 3
        Star_Rail_species_trait_picks_add = 5
        Star_Rail_species_trait_points_add = 5
    }
    triggered_modifier = {
        potential = { always = yes }
        BIOLOGICAL_species_trait_points_add = 1
        Star_Rail_species_trait_points_add = 1
        mult = modifier:ROBOT_species_trait_points_add
    }
    triggered_modifier = {
        potential = { always = yes }
        BIOLOGICAL_species_trait_picks_add = 1
        Star_Rail_species_trait_picks_add = 1
        mult = modifier:ROBOT_species_trait_picks_add
    }
    on_enabled = {
        hidden_effect = {
            capital_scope = {
                enable_special_project = {
                    name = "herta_discuss_pop_up_1"
                    location = this
                    owner = root
                }
            }
        }
    }
    tradition_swap = {
        name = tr_herta_discuss_2_1
        inherit_effects = no
        inherit_icon =yes
        trigger = {
            has_country_flag = tr_herta_select_ruamei_2
        }
        modifier = {
            modify_species_cost_mult = -0.25
            BIOLOGICAL_species_trait_points_add = 7
            BIOLOGICAL_species_trait_picks_add = 7
            Star_Rail_species_trait_picks_add = 12
            Star_Rail_species_trait_points_add = 12
        }
        custom_tooltip_with_modifiers = tr_herta_discuss_2_1_tt
        on_enabled = {
            hidden_effect = {
                capital_scope = {
                    enable_special_project = {
                        name = "herta_discuss_pop_up_2"
                        location = this
                        owner = root
                    }
                }
            }
        }
        weight = {
            factor = 1
        }
    }
    tradition_swap = {
        name = tr_herta_discuss_2_2
        inherit_effects = no
        inherit_icon = yes
        trigger = {
            has_country_flag = tr_herta_select_luosi_2
        }
        custom_tooltip_with_modifiers = tr_herta_discuss_2_2_tt
        modifier = {
            modify_species_cost_mult = -0.25
            ROBOT_species_trait_picks_add = 14
            ROBOT_species_trait_points_add = 14
        }
        on_enabled = {
            hidden_effect = {
                capital_scope = {
                    enable_special_project = {
                        name = "herta_discuss_pop_up_3"
                        location = this
                        owner = root
                    }
                }
            }
        }
        weight = {
            factor = 1
        }
    }
    ai_weight = {
        factor = 1000
    }
}
tr_herta_discuss_3 = {
    possible = {
        OR = {
            has_tradition = tr_herta_discuss_1
            has_tradition = tr_herta_discuss_1_1
            has_tradition = tr_herta_discuss_1_2
        }
    }
    modifier = {
        divided_patrongage_max_subjects = 2
        country_subject_trust_cap_add = 50
        country_subject_acceptance_add = 25
        subject_integration_influence_cost_mult = -0.5
    }
    custom_tooltip_with_modifiers = tr_herta_discuss_3_tt
    ai_weight = {
        factor = 1000
    }
}
tr_herta_discuss_4 = {
    possible = {
        has_tradition = tr_herta_discuss_adopt
        OR = {
            has_tradition = tr_herta_discuss_2
            has_tradition = tr_herta_discuss_2_1
            has_tradition = tr_herta_discuss_2_2
        }
    }
    modifier = {
        starbase_building_capacity_add = 5
        starbase_building_build_speed_mult = 0.2
        starbase_module_build_speed_mult = 0.2
        planet_structures_cost_mult = -0.10
        planet_building_build_speed_mult = 0.2
    }
    custom_tooltip_with_modifiers = tr_herta_discuss_4_tt
    on_enabled = {
        hidden_effect = {
            add_research_option = tech_herta_choose_2
        }
    }
    tradition_swap = {
        name = tr_herta_discuss_4_1
        inherit_effects = yes
        inherit_icon = yes
        trigger = {
            has_country_flag = tr_herta_select_ruamei_4
        }
        on_enabled = {
            hidden_effect = {
                add_research_option = tech_ruanmei_choose_2
            }
        }
        weight = {
            factor = 1
        }
    }
    tradition_swap = {
        name = tr_herta_discuss_4_2
        inherit_effects = yes
        inherit_icon = yes
        trigger = {
            has_country_flag = tr_herta_select_luosi_4
        }
        on_enabled = {
            hidden_effect = {
                add_research_option = tech_luosi_choose_2
            }
        }
        weight = {
            factor = 1
        }
    }
    custom_tooltip_with_modifiers = tr_herta_discuss_4_tt
    ai_weight = {
        factor = 1000
    }
}
tr_herta_discuss_5 = {
    possible = {
        has_tradition = tr_herta_discuss_adopt
        has_tradition = tr_herta_discuss_3
    }
    modifier = {
        envoys_add = 2
        federation_experience_add = 2
        federation_naval_cap_contribution_mult = 1.00
        country_border_friction_mult = -0.25
    }
    custom_tooltip_with_modifiers = tr_herta_discuss_5_tt
    ai_weight = {
        factor = 1000
    }
}