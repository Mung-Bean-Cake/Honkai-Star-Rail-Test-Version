hsr_path_first_set = {
    optimize_memory
    change_variable = {
        which = country_path_cunhu
        value = $cunhu_value$
    }
    change_variable = {
        which = country_path_fanyu
        value = $fanyu_value$
    }
    change_variable = {
        which = country_path_fengrao
        value = $fengrao_value$
    }
    change_variable = {
        which = country_path_huanyu
        value = $huanyu_value$
    }
    change_variable = {
        which = country_path_huimie
        value = $huimie_value$
    }
    change_variable = {
        which = country_path_jiyi
        value = $jiyi_value$
    }
    change_variable = {
        which = country_path_tongxie
        value = $tongxie_value$
    }
    change_variable = {
        which = country_path_xunlie
        value = $xunlie_value$
    }
    change_variable = {
        which = country_path_xuwu
        value = $xuwu_value$
    }
    change_variable = {
        which = country_path_zhishi
        value = $zhishi_value$
    }
    change_variable = {
        which = path_primary_count_max
        value = 1
    }
    change_variable = {
        which = path_secondary_count_max
        value = 2
    }
    set_variable = {
        which = path_primary_count
        value = 0
    }
    set_variable = {
        which = path_secondary_count
        value = 0
    }
}
hsr_path_year_reset = {
    optimize_memory
    if = {
        limit = {
            check_variable_arithmetic = {
                which = from.value:country_path_$path$_value
                value <= 40
            }
            has_country_flag = hsr_$path$_secondary
        }
        remove_country_flag = hsr_$path$_secondary
        change_variable = {
            which = path_secondary_count
            value = -1
        }
    }
    if = {
        limit = {
            check_variable_arithmetic = {
                which = from.value:country_path_$path$_value
                value > 40
            }
            check_variable_arithmetic = {
                which = from.value:country_path_$path$_value
                value < 60
            }
            has_country_flag = hsr_$path$_primary
        }
        remove_country_flag = hsr_$path$_primary
        change_variable = {
            which = path_primary_count
            value = -1
        }
    }
}
hsr_civic_select = {
    optimize_memory
    if = {
        limit = {
            not = { has_tradition = $civic_name$  }
        }
        add_tradition = $civic_name$
    }
    switch = {
        trigger = has_country_flag
        hsr_star_path_civic_1_set = {
            set_country_flag = $civic_name$
            set_variable = {
                which = hsr_star_path_civic_1
                value = $value$
            }
        }
        hsr_star_path_civic_2_set = {
            set_country_flag = $civic_name$
            set_variable = {
                which = hsr_star_path_civic_2
                value = $value$
            }
        }
        hsr_star_path_civic_3_set = {
            set_country_flag = $civic_name$
            set_variable = {
                which = hsr_star_path_civic_3
                value = $value$
            }
        }
        hsr_star_path_civic_4_set = {
            set_country_flag = $civic_name$
            set_variable = {
                which = hsr_star_path_civic_4
                value = $value$
            }
        }
        hsr_star_path_civic_5_set = {
            set_country_flag = $civic_name$
            set_variable = {
                which = hsr_star_path_civic_5
                value = $value$
            }
        }
        default = {}
    }
    remove_country_flag = hsr_star_path_civic_5_set
    remove_country_flag = hsr_star_path_civic_2_set
    remove_country_flag = hsr_star_path_civic_3_set
    remove_country_flag = hsr_star_path_civic_4_set
    remove_country_flag = hsr_star_path_civic_1_set
}
hsr_civic_reset = {
    optimize_memory
    switch = {
        trigger = has_country_flag
        hsr_star_path_civic_1_set = {
            if = {
                limit = {
                    check_variable = {
                        which = hsr_star_path_civic_1
                        value = $value$
                    }
                }
                remove_country_flag = $civic_name$
                set_variable = {
                    which = hsr_star_path_civic_1
                    value = 0
                }
            }
        }
        hsr_star_path_civic_2_set = {
            if = {
                limit = {
                    check_variable = {
                        which = hsr_star_path_civic_2
                        value = $value$
                    }
                }
                remove_country_flag = $civic_name$
                set_variable = {
                    which = hsr_star_path_civic_2
                    value = 0
                }
            }
        }
        hsr_star_path_civic_3_set = {
            if = {
                limit = {
                    check_variable = {
                        which = hsr_star_path_civic_3
                        value = $value$
                    }
                }
                remove_country_flag = $civic_name$
                set_variable = {
                    which = hsr_star_path_civic_3
                    value = 0
                }
            }
        }
        hsr_star_path_civic_4_set = {
            if = {
                limit = {
                    check_variable = {
                        which = hsr_star_path_civic_4
                        value = $value$
                    }
                }
                remove_country_flag = $civic_name$
                set_variable = {
                    which = hsr_star_path_civic_4
                    value = 0
                }
            }
        }
        hsr_star_path_civic_5_set = {
            if = {
                limit = {
                    check_variable = {
                        which = hsr_star_path_civic_5
                        value = $value$
                    }
                }
                remove_country_flag = $civic_name$
                set_variable = {
                    which = hsr_star_path_civic_5
                    value = 0
                }
            }
        }
        default = {}
    }
    remove_country_flag = hsr_star_path_civic_5_set
    remove_country_flag = hsr_star_path_civic_2_set
    remove_country_flag = hsr_star_path_civic_3_set
    remove_country_flag = hsr_star_path_civic_4_set
    remove_country_flag = hsr_star_path_civic_1_set
}
curiosity_get_effect = {
    optimize_memory
    if = {
        limit = { has_specimen = $KEY_NAME$ }
        change_variable = {
            which = yuzhousuipian
            value = $VALUE$
        }
    }
    else = {
        give_specimen = { key = $KEY_NAME$ origin = $KEY_ORIGIN$ }
    }
}
curiosity_lose_effect = {
    optimize_memory
    remove_specimen = $KEY_NAME$
}
random_common_curiosity_get = {
    optimize_memory
    random_list = {
        1 = {curiosity_get_effect = { KEY_NAME = chaotic_coriolus_versicolor KEY_ORIGIN = simulated_universe  VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = transitional_compound_eye KEY_ORIGIN = simulated_universe  VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = exotic_fruit KEY_ORIGIN = simulated_universe  VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = uncertainty_box KEY_ORIGIN = simulated_universe VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = fragrant_cheese KEY_ORIGIN = simulated_universe VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = sheepskin_scroll KEY_ORIGIN = simulated_universe VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = club_ticket KEY_ORIGIN = simulated_universe VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = heavy_sound_album KEY_ORIGIN = simulated_universe VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = broken_star_fragrant_bait KEY_ORIGIN = simulated_universe VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = cunhu_sealing_wax KEY_ORIGIN = simulated_universe VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = fanyu_sealing_wax KEY_ORIGIN = simulated_universe VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = fengrao_sealing_wax KEY_ORIGIN = simulated_universe VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = huanyu_sealing_wax KEY_ORIGIN = simulated_universe VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = huimie_sealing_wax KEY_ORIGIN = simulated_universe VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = jiyi_sealing_wax KEY_ORIGIN = simulated_universe VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = tongxie_sealing_wax KEY_ORIGIN = simulated_universe VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = xunlie_sealing_wax KEY_ORIGIN = simulated_universe VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = xuwu_sealing_wax KEY_ORIGIN = simulated_universe VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = zhishi_sealing_wax KEY_ORIGIN = simulated_universe VALUE = 100}}
        1 = {curiosity_get_effect = { KEY_NAME = hundunlinyao KEY_ORIGIN = simulated_universe VALUE = 100}}
    }
}
random_rare_curiosity_get = {
    optimize_memory
    random_list = {
        1 = {curiosity_get_effect = { KEY_NAME = fuling_gum KEY_ORIGIN = simulated_universe  VALUE = 180}}
        1 = {curiosity_get_effect = { KEY_NAME = dimensionality_reduction_dice KEY_ORIGIN = simulated_universe  VALUE = 180}}
        1 = {curiosity_get_effect = { KEY_NAME = faith_bond KEY_ORIGIN = simulated_universe  VALUE = 180}}
        1 = {curiosity_get_effect = { KEY_NAME = split_gold_coins KEY_ORIGIN = simulated_universe  VALUE = 180}}
        1 = {curiosity_get_effect = { KEY_NAME = empty_candle_scissors KEY_ORIGIN = simulated_universe  VALUE = 180}}
    }
}
random_epic_curiosity_get = {
    optimize_memory
    random_list = {
        1 = {curiosity_get_effect = { KEY_NAME = annihilate_candle_scissors KEY_ORIGIN = simulated_universe  VALUE = 300}}
        1 = {curiosity_get_effect = { KEY_NAME = beautiful_robe KEY_ORIGIN = simulated_universe  VALUE = 300}}
    }
}