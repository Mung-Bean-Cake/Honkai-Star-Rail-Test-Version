#黑塔舰队组件
utility_component_template = {
    key = "HERTA_FLEET_DRIVE"
    hidden = yes
    size = small
    icon = "GFX_ship_part_beyond_infinity_drive"
    icon_frame = 1
    power = -50
    ftl = yes
    jumpdrive = yes

    modifier = {
        ship_cloaking_strength_add = 5
    }

    ship_modifier = {
        ship_disengage_opportunities_add = 2
        ship_disengage_chance_mult = 0.5
        ship_jumpdrive_cooldown_mult = -1
        ship_emergency_ftl_min_days_mult = -1
        ship_ftl_jumpdrive_range_mult = 1.5
        ship_accuracy_mult = 1
        ship_tracking_mult = 1
    }

    component_set = "ftl_components"
}
utility_component_template = {
    key = "COMBAT_COMPUTER_HERTA_FLEET"
    hidden = yes
    size = small
    icon = "GFX_ship_part_combat_computer_horror"
    icon_frame = 1
    power = -50
    ship_behavior = "colossus"

    component_set = "combat_computers"

    # 组件效果
    inline_script = {
        script = scripted_action/open_herta_fleet_main_menu
    }


    modifier = {
        ship_speed_mult = 0.5
        ship_cloaking_strength_add = 5
        ship_sensor_range_add = 5
    }

    triggered_ship_modifier = {
        potential = {

        }
        ship_hull_damage_mult = 0.1
        ship_armor_damage_mult = 0.1
        ship_shield_damage_mult = 0.1
        ship_weapon_damage = 0.1
        ship_weapon_range_mult = 0.1
        t_slot_weapon_damage_mult = 0.1
        t_slot_weapon_fire_rate_mult = 0.1
        x_slot_weapon_damage_mult = 0.1
        x_slot_weapon_fire_rate_mult = 0.1
        ship_armor_penetration_mult = 0.1
        ship_shield_penetration_mult = 0.1
        l_slot_weapon_damage_mult = 0.1
        l_slot_weapon_fire_rate_mult = 0.1
        m_slot_weapon_damage_mult = 0.1
        m_slot_weapon_fire_rate_mult = 0.1
        s_slot_weapon_damage_mult = 0.1
        s_slot_weapon_fire_rate_mult = 0.1
        mult = fleet.herta_fleet_station_weapon_1_level
    }
    triggered_ship_modifier = {
        potential = {

        }
        ship_hull_damage_mult = 0.1
        ship_armor_damage_mult = 0.1
        ship_shield_damage_mult = 0.1
        ship_weapon_damage = 0.1
        ship_weapon_range_mult = 0.1
        t_slot_weapon_damage_mult = 0.1
        t_slot_weapon_fire_rate_mult = 0.1
        x_slot_weapon_damage_mult = 0.1
        x_slot_weapon_fire_rate_mult = 0.1
        ship_armor_penetration_mult = 0.1
        ship_shield_penetration_mult = 0.1
        l_slot_weapon_damage_mult = 0.1
        l_slot_weapon_fire_rate_mult = 0.1
        m_slot_weapon_damage_mult = 0.1
        m_slot_weapon_fire_rate_mult = 0.1
        s_slot_weapon_damage_mult = 0.1
        s_slot_weapon_fire_rate_mult = 0.1
        mult = fleet.value:herta_station_district_5_level_charge
    }

    triggered_ship_modifier = {
        potential = {

        }
        ship_weapon_damage = 0.05
        ship_weapon_range_mult = 0.05
        ship_hull_mult = 0.05
        ship_armor_mult = 0.05
        mult = fleet.herta_fleet_station_leader_assist_1_level
    }
    triggered_ship_modifier = {
        potential = {

        }
        ship_weapon_damage = 0.05
        ship_weapon_range_mult = 0.05
        ship_hull_mult = 0.05
        ship_armor_mult = 0.05
        mult = fleet.value:herta_station_district_5_level_charge
    }
    triggered_ship_modifier = {
        potential = {

        }
        ship_hull_mult = 0.1
        ship_hull_regen_add_perc = 0.1
        ship_damage_reduction_mult = 0.1
        ship_armor_mult = 0.1
        ship_armor_regen_add_perc = 0.1
        ship_armor_hardening_add = 0.1
        ship_shield_mult = 0.1
        ship_shield_regen_add_perc = 0.1
        ship_shield_hardening_add = 0.1
        mult = fleet.herta_fleet_station_weapon_2_level
    }
    triggered_ship_modifier = {
        potential = {

        }
        ship_hull_mult = 0.1
        ship_hull_regen_add_perc = 0.1
        ship_damage_reduction_mult = 0.1
        ship_armor_mult = 0.1
        ship_armor_regen_add_perc = 0.1
        ship_armor_hardening_add = 0.1
        ship_shield_mult = 0.1
        ship_shield_regen_add_perc = 0.1
        ship_shield_hardening_add = 0.1
        mult = fleet.herta_fleet_station_weapon_2_level
        mult = fleet.value:herta_station_district_5_level_charge
    }

    triggered_ship_modifier = {
        potential = {

        }
        ship_accuracy_mult = 0.1
        ship_tracking_mult = 0.1
        ship_engagement_range_mult = 0.1
        weapon_type_point_defense_weapon_damage_mult = 0.1
        weapon_type_point_defense_weapon_fire_rate_mult = 0.1
        weapon_type_strike_craft_weapon_damage_mult = 0.1
        weapon_type_strike_craft_weapon_fire_rate_mult = 0.1
        weapon_type_strike_craft_speed_mult = 0.1
        ship_fire_rate_mult = 0.1
        ship_evasion_mult = 0.1
        ship_speed_mult = 0.1
        ship_ftl_jumpdrive_range_mult = 0.1
        mult = fleet.herta_fleet_station_weapon_3_level
    }
    triggered_ship_modifier = {
        potential = {

        }
        ship_accuracy_mult = 0.1
        ship_tracking_mult = 0.1
        ship_engagement_range_mult = 0.1
        weapon_type_point_defense_weapon_damage_mult = 0.1
        weapon_type_point_defense_weapon_fire_rate_mult = 0.1
        weapon_type_strike_craft_weapon_damage_mult = 0.1
        weapon_type_strike_craft_weapon_fire_rate_mult = 0.1
        weapon_type_strike_craft_speed_mult = 0.1
        ship_fire_rate_mult = 0.1
        ship_evasion_mult = 0.1
        ship_speed_mult = 0.1
        ship_ftl_jumpdrive_range_mult = 0.1
        mult = fleet.value:herta_station_district_5_level_charge
    }
    ai_tags = {
        gunship_stealth
        explosive_stealth
        carrier_stealth
        screen_stealth
        artillery_stealth
        brawler_stealth
        energy_torpedoes_stealth
    }
}
utility_component_template = {
    key = "HERTA_FLEET_REACTOR"
    size = small
    icon = "GFX_ship_part_beyond_infinity_reactor"
    icon_frame = 1
    power = 15000
    resources = {
        category = ship_components
        cost = {
            alloys = 1280
            sr_dark_matter = 32
        }
        inline_script = {
            script = component_templates/herta_fleet_component_template_basic_upkeep
            ENERGY = 12.8
            ALLOYS = 1.28
        }
    }
    component_set = "power_core"

    potential = {
        ship_uses_titan_reactors = yes
    }

    ai_weight = {
        weight = 100
    }
}
utility_component_template = {
    key = "HERTA_FLEET_AURA_3"
    size = medium
    should_ai_use = no
    hidden = yes
    icon = "GFX_ship_part_aura_horror"
    icon_frame = 1
    power = 0

    resources = {
        category = ship_components
        cost = {
            sr_dark_matter = 100
            astral_threads = 50
        }
    }

    component_set = "ship_aura_components"
    upgrade_path = horror_aura

    hostile_aura = {
        name = "hostile_aura_horror"
        system_wide = yes
        apply_on = ships

        limit = {
            # 防止断事件链
            is_in_combat = yes
            is_disabled = no
        }

        stack_info = {			#A ship can only be affected by one aura of a certain id. If multiple auras have the same ID the one with the highest priority will be applied.
            id = hostile_aura_herta
            priority = 3
        }

        modifier = {
            ship_speed_reduction = 1
            ship_shield_reduction = 1
            ship_armor_reduction = 1
            ship_shield_regen_add_perc = -1
            ship_armor_regen_add_perc = -1
            ship_hull_regen_add_perc = -1
            weapon_type_strike_craft_speed_mult = -1
            ship_damage_reduction_mult = -1
            ship_evasion_mult = -1
            ship_disengage_chance_reduction = 2
            ship_emergency_ftl_mult = 2
            ship_emergency_ftl_min_days_mult = 2
            ship_disengage_opportunities_add = -10
        }

        damage_per_day = {
            accuracy = 1
            damage = { min = 1 max = 299 }
            hull_damage = 2
            armor_damage = 2
            shield_damage = 2
            armor_penetration = 1
            shield_penetration = 1
            size_damage_factor = 1
        }

        graphics = {
            area_effect = {
                entity = "circle_area_entity"
                dynamic_scale = yes
            }
            ship_effect = {
                entity = "ship_aura_negative_entity"
                dynamic_scale = no
            }
        }
    }
}
utility_component_template = {
    key = "HSR_BOMB"
    size = medium
    icon = "GFX_ship_part_computer_artillery_advanced"
    icon_frame = 1
    power = 0
    component_set = "ship_aura_components"


    hidden = yes
    hostile_aura = {
        name = "hsr_bomb_1"
        system_wide = yes
        apply_on = ships

        limit = {
            is_in_combat = yes
            is_disabled = no
        }
        stack_info = {
            id = hsr_bomb_1
            priority = 200
        }

        damage_per_day = {
            accuracy = 1000
            damage = { min = 5000 max = 5000 }
            shield_penetration = 1
            armor_penetration = 1
        }
        graphics = {
            area_effect = {
                entity = "circle_area_entity"
                dynamic_scale = yes
            }
            ship_effect = {
                entity = "ship_aura_negative_entity"
                dynamic_scale = no
            }
        }
    }
    ai_weight = {
        weight = 0
    }
}