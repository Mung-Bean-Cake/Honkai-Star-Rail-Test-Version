#Pom-Pom

Pom-Pom_I = {
	entity = "Astral_Express_fleet_entity"
	# construction_entity = "Astral_Express_fleet_entity"
	construction_entity = "Holy_Dustbin_entity"
	entity_offset = { x = -30 y = -30 }
	portrait = "GFX_megastructure_construction_background"
	build_time = 30
	# place_entity_on_planet_plane = no
	# build_outside_gravity_well = no
	resources = {
		category = megastructures
		cost = {
			alloys = 370
			unity = 370
		}
	}
	upgrade_from = {  }
	prerequisites = {  }
	on_build_start = {  }
	on_build_complete = { 
		give_technology = { tech = tech_space_exploration message = yes }
		give_technology = { tech = tech_repeatable_lcluster_clue message = yes }
		give_technology = { tech = tech_wormhole_stabilization message = yes }
		give_technology = { tech = tech_gateway_activation message = yes }
		give_technology = { tech = tech_jump_drive_1 message = yes }
		From = { 
			change_variable = { which = NUM_Pom-Pom_I value = 1 } 
			add_modifier = { modifier = galactic_community_diplo_corps_respected }
        }
	}
	possible = {
		from = {
			or = {
				# has_origin = origin_Xianzhou
				has_origin = origin_Astral_Express
			}
		}
		exists = starbase
		From = { 
			check_variable = { which = NUM_Pom-Pom_I value < 1 }
			NOT = { has_any_megastructure = yes }
		}
	}
	country_modifier = {
		planet_colony_development_speed_mult = 1.37
		all_technology_research_speed = 1.37
		country_naval_cap_add = 37
		add_base_country_intel = 37
		planet_amenities_mult = 0.37
		starbase_shipyard_build_speed_mult = 1.37
		ship_military_alloys_upkeep_mult = -0.37
		army_damage_mult = 3.70
		army_starting_experience_add = 370
		country_base_minerals_produces_add = 370
		diplo_action_acceptance_add = 370
		
		diplo_weight_mult = 3.7
		ship_speed_mult = 3.7
		shipclass_starbase_damage_mult = 3.70
		shipclass_starbase_hull_mult = 3.70
		ship_sensor_range_add = 37
	}	
	ai_weight = {
		factor = 1
	}
}

Pom-Pom_II = {
	entity = "Astral_Express_fleet_entity"
	construction_entity = "Holy_Dustbin_entity"
	entity_offset = { x = -30 y = -30 }
	portrait = "GFX_megastructure_construction_background"
	build_time = 30
	# place_entity_on_planet_plane = no
	# build_outside_gravity_well = no
	resources = {
		category = megastructures
		cost = {
			alloys = 3700
			unity = 3700
		}
	}
	upgrade_from = { Pom-Pom_I }
	prerequisites = {  }
	on_build_start = {  }
	on_build_complete = { 
		give_technology = { tech = tech_gateway_construction message = yes }
		give_technology = { tech = tech_pk_cracker message = yes }
		give_technology = { tech = tech_pk_godray message = yes }
	}
	possible = {
		from = {
			or = {
				# has_origin = origin_Xianzhou
				has_origin = origin_Astral_Express
			}
		}
		exists = starbase
		from = {
			num_starbases >= 3
			used_starbase_capacity_percent >= 0.3
			# num_gateways > 0
		}
		custom_tooltip = {
			fail_text = "requires_no_existing_megastructure"
			# NOT = { has_any_megastructure = yes }
			has_no_non_gate_megastructure = yes
		}
	}
	country_modifier = {
		planet_colony_development_speed_mult = 2.37
		all_technology_research_speed = 2.37
		country_naval_cap_add = 137
		add_base_country_intel = 137
		planet_amenities_mult = 1.37
		starbase_shipyard_build_speed_mult = 13.7
		ship_military_alloys_upkeep_mult = -1.37
		army_damage_mult = 3.70
		army_starting_experience_add = 370
		country_base_minerals_produces_add = 370
		diplo_action_acceptance_add = 370
		
		diplo_weight_mult = 3.7
		ship_speed_mult = 3.7
		shipclass_starbase_damage_mult = 3.70
		shipclass_starbase_hull_mult = 3.70
		ship_sensor_range_add = 37
	}	
	ai_weight = {
		factor = 1
	}
}

Pom-Pom_III = {
	entity = "Astral_Express_fleet_entity"
	construction_entity = "Holy_Dustbin_entity"
	entity_offset = { x = -30 y = -30 }
	portrait = "GFX_megastructure_construction_background"
	build_time = 30
	# place_entity_on_planet_plane = no
	# build_outside_gravity_well = no
	resources = {
		category = megastructures
		cost = {
			alloys = 37000
			unity = 37000
		}
	}
	upgrade_from = { Pom-Pom_II }
	prerequisites = {  }
	on_build_start = {  }
	on_build_complete = { }
	possible = {
		from = {
			or = {
				# has_origin = origin_Xianzhou
				has_origin = origin_Astral_Express
			}
		}
		exists = starbase
		from = {
			num_starbases >= 5
			used_starbase_capacity_percent >= 0.5
			# num_gateways > 0
		}
		custom_tooltip = {
			fail_text = "requires_no_existing_megastructure"
			# NOT = { has_any_megastructure = yes }
			has_no_non_gate_megastructure = yes
		}
	}
	country_modifier = {
		planet_colony_development_speed_mult = 5.37
		all_technology_research_speed = 5.37
		country_naval_cap_add = 537
		add_base_country_intel = 537
		planet_amenities_mult = 5.37
		starbase_shipyard_build_speed_mult = 53.7
		ship_military_alloys_upkeep_mult = -5.37
		army_damage_mult = 3.70
		army_starting_experience_add = 370
		country_base_minerals_produces_add = 370
		diplo_action_acceptance_add = 370
		
		diplo_weight_mult = 13.7
		ship_speed_mult = 13.7
		shipclass_starbase_damage_mult = 3.70
		shipclass_starbase_hull_mult = 3.70
		ship_sensor_range_add = 37
	}	
	ai_weight = {
		factor = 1
	}
}